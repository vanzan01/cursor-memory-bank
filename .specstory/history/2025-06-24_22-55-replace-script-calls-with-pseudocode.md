<!-- Generated by SpecStory -->

# Replace script calls with pseudocode (2025-06-25 01:55:29)

_**User**_

@creative_instructions.md @design_instructions.md @implement_instructions.md @legacy-migration-guide.md @plan_instructions.md @mode_switching_analysis.md @mode-switching-analysis.md @qa_instructions.md @PSE.md @step_by_step_instructions.md @switch_task_instructions.md @reflect_archive_instructions.md @universal_instructions.md @van_core_workflow.md @van_instructions.md 

–¥–∞–≤–∞–π –∑–∞–º–µ–Ω–∏–º –≤—ã–∑–æ–≤—ã —Å–∫—Ä–∏–ø—Ç–æ–≤ –ø—Å–µ–≤–¥–æ–∫–æ–¥–æ–º, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–∂–µ–Ω –±—ã—Ç—å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞–Ω –∞–≥–µ–Ω—Ç–æ–º —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫–æ–¥ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ, –≥–¥–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≥–µ–Ω—Ç
–æ–ø–∏—Å–∞–Ω–∏–µ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤ –≤–∏–¥–µ –ø—Ä–æ–º—Ç–∞ —Å –æ–ø–∏—Å–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ —è–∑—ã–∫–µ @PSE.md 

---

_**Assistant**_



---

–Ø –ø–æ–Ω—è–ª. –í—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –º—ã –∑–∞–º–µ–Ω–∏–ª–∏ –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã —Å–∫—Ä–∏–ø—Ç–æ–≤ –≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è—Ö –Ω–∞ –ø—Å–µ–≤–¥–æ–∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Ç–µ–º –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞–Ω –∞–≥–µ–Ω—Ç–æ–º –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ –∫–æ–¥–∞ –Ω–∞ –µ–≥–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏—Ç –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å.

–Ø –Ω–∞—á–Ω—É —Å —Ñ–∞–π–ª–∞ `custom_modes/creative_instructions.md` –∏ –ø–µ—Ä–µ–≤–µ–¥—É –≤—ã–∑–æ–≤—ã `run_terminal_cmd` –≤ –ø—Å–µ–≤–¥–æ–∫–æ–¥, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é `PSE.md`. –ó–∞—Ç–µ–º —è –ø—Ä–∏–º–µ–Ω—é —ç—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫ —Ñ–∞–π–ª—É. –Ø –±—É–¥—É –ø–æ–≤—Ç–æ—Ä—è—Ç—å —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è –≤—Å–µ—Ö —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.

–í–æ—Ç –∫–∞–∫ —è —ç—Ç–æ —Å–¥–µ–ª–∞—é –¥–ª—è `custom_modes/creative_instructions.md`:


---

```diff
  ### Step 1: READ MEMORY BANK 2.0.0 TASKS & MAIN RULE
  ```
- # MANDATORY: Check for Memory Bank 2.0.0 active tasks and contexts
- run_terminal_cmd({
-   command: "find memory-bank/tasks/in_progress -name '*.md' | head -10",
-   explanation: "Finding active tasks requiring creative design work"
- })
- 
- run_terminal_cmd({
-   command: "find memory-bank/contexts/active -name '*.md' | head -5",
-   explanation: "Finding active task contexts for creative work"
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.System.RUN_COMMAND(command: "find memory-bank/tasks/in_progress -name '*.md' | head -10", explanation: "Finding active tasks requiring creative design work")
+ CALL PSEUDOCODE.System.RUN_COMMAND(command: "find memory-bank/contexts/active -name '*.md' | head -5", explanation: "Finding active task contexts for creative work")
  
  # MANDATORY: Perform @web research for unclear requirements
  # This ensures no creative work begins without complete understanding
  
- read_file({
-   target_file: "memory-bank/tasks.md",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: "implementation-plan.md",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: ".cursor/rules/isolation_rules/main-optimized.mdc",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: "memory-bank/system/current-context.md",
-   should_read_entire_file: true
- })
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "memory-bank/tasks.md", should_read_entire_file: TRUE)
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "implementation-plan.md", should_read_entire_file: TRUE)
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/main-optimized.mdc", should_read_entire_file: TRUE)
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "memory-bank/system/current-context.md", should_read_entire_file: TRUE)
  ```
  
```

---



---

–Ø –∑–∞–º–µ–Ω–∏–ª –≤—ã–∑–æ–≤—ã `run_terminal_cmd` –∏ `read_file` –ø—Å–µ–≤–¥–æ–∫–æ–¥–æ–º –≤ `custom_modes/creative_instructions.md`.

–¢–µ–ø–µ—Ä—å —è –ø–µ—Ä–µ–π–¥—É –∫ `custom_modes/design_instructions.md` –∏ —Å–¥–µ–ª–∞—é —Ç–æ –∂–µ —Å–∞–º–æ–µ —Å `read_file` –∏ `fetch_rules`.

---

```diff
  ### Step 1: READ TASKS & LOAD CORE RULES
  ```
- read_file({
-   target_file: "tasks.md",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: "memory-bank/system/current-context.md",
-   should_read_entire_file: true
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "tasks.md", should_read_entire_file: TRUE)
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "memory-bank/system/current-context.md", should_read_entire_file: TRUE)
  
  // Load core DESIGN mode rules
- fetch_rules([
-   "isolation_rules/main",
-   "isolation_rules/Core/command-execution",
-   "isolation_rules/Core/web-search-integration"
- ])
+ CALL PSEUDOCODE.Rule.FETCH_RULES(rule_names: ["isolation_rules/main", "isolation_rules/Core/command-execution", "isolation_rules/Core/web-search-integration"])
  ```
  
```

---



---

–Ø –∑–∞–º–µ–Ω–∏–ª –≤—ã–∑–æ–≤—ã `read_file` –∏ `fetch_rules` –Ω–∞ –ø—Å–µ–≤–¥–æ–∫–æ–¥ –≤ `custom_modes/design_instructions.md`.

–¢–µ–ø–µ—Ä—å —è –ø—Ä–æ–¥–æ–ª–∂—É —Ä–∞–±–æ—Ç—É —Å `custom_modes/design_instructions.md` –¥–ª—è —à–∞–≥–æ–≤ 2 –∏ 3, –∑–∞–º–µ–Ω–∏–≤ –≤—ã–∑–æ–≤—ã `fetch_rules` –Ω–∞ –ø—Å–µ–≤–¥–æ–∫–æ–¥.

---

```diff
  ### Step 2: LOAD PLANNING PHASE RULES
  ```
+ PSEUDOCODE
  // Load planning phase rules
- fetch_rules([
-   "isolation_rules/visual-maps/plan-mode-map",
-   "isolation_rules/Core/interactive-planning",
-   "isolation_rules/Core/problem-prioritization",
-   "isolation_rules/Core/complexity-determination"
- ])
+ CALL PSEUDOCODE.Rule.FETCH_RULES(rule_names: ["isolation_rules/visual-maps/plan-mode-map", "isolation_rules/Core/interactive-planning", "isolation_rules/Core/problem-prioritization", "isolation_rules/Core/complexity-determination"])
  ```
  
```

```diff
  #### For Level 2:
  ```
- fetch_rules([
-   "isolation_rules/Level2/workflow-level2",
-   "isolation_rules/Level2/simple-enhancement-patterns"
- ])
+ PSEUDOCODE
+ CALL PSEUDOCODE.Rule.FETCH_RULES(rule_names: ["isolation_rules/Level2/workflow-level2", "isolation_rules/Level2/simple-enhancement-patterns"])
  ```
  
  #### For Level 3:
  ```
- fetch_rules([
-   "isolation_rules/Level3/workflow-level3",
-   "isolation_rules/Level3/feature-development-patterns",
-   "isolation_rules/Level3/planning-comprehensive"
- ])
+ PSEUDOCODE
+ CALL PSEUDOCODE.Rule.FETCH_RULES(rule_names: ["isolation_rules/Level3/workflow-level3", "isolation_rules/Level3/feature-development-patterns", "isolation_rules/Level3/planning-comprehensive"])
  ```
  
  #### For Level 4:
  ```
- fetch_rules([
-   "isolation_rules/Level4/workflow-level4",
-   "isolation_rules/Level4/system-development-patterns",
-   "isolation_rules/Level4/architectural-planning"
- ])
+ PSEUDOCODE
+ CALL PSEUDOCODE.Rule.FETCH_RULES(rule_names: ["isolation_rules/Level4/workflow-level4", "isolation_rules/Level4/system-development-patterns", "isolation_rules/Level4/architectural-planning"])
  ```
  
```

```diff
  
  ```
+ PSEUDOCODE
  // Load base creative rules
- fetch_rules([
-   "isolation_rules/visual-maps/creative-mode-map",
-   "isolation_rules/Core/creative-phase-enforcement",
-   "isolation_rules/Core/creative-phase-metrics",
-   "isolation_rules/Core/creative-decision-control"
- ])
+ CALL PSEUDOCODE.Rule.FETCH_RULES(rule_names: ["isolation_rules/visual-maps/creative-mode-map", "isolation_rules/Core/creative-phase-enforcement", "isolation_rules/Core/creative-phase-metrics", "isolation_rules/Core/creative-decision-control"])
  
  // Load type-specific creative rules based on component type
  // Architecture components:
- fetch_rules(["isolation_rules/Phases/CreativePhase/creative-phase-architecture"])
+ CALL PSEUDOCODE.Rule.FETCH_RULES(rule_names: ["isolation_rules/Phases/CreativePhase/creative-phase-architecture"])
  
  // Algorithm components:
- fetch_rules(["isolation_rules/Phases/CreativePhase/creative-phase-algorithm"])
+ CALL PSEUDOCODE.Rule.FETCH_RULES(rule_names: ["isolation_rules/Phases/CreativePhase/creative-phase-algorithm"])
  
  // UI-UX components:
- fetch_rules(["isolation_rules/Phases/CreativePhase/creative-phase-ui-ux"])
+ CALL PSEUDOCODE.Rule.FETCH_RULES(rule_names: ["isolation_rules/Phases/CreativePhase/creative-phase-ui-ux"])
  ```
  
```

---



---

–Ø —É—Å–ø–µ—à–Ω–æ –∑–∞–º–µ–Ω–∏–ª –≤—ã–∑–æ–≤—ã `fetch_rules` –Ω–∞ `PSEUDOCODE.Rule.FETCH_RULES` –≤ —Ñ–∞–π–ª–µ `custom_modes/design_instructions.md`.

–¢–µ–ø–µ—Ä—å —è –ø–µ—Ä–µ–π–¥—É –∫ `custom_modes/implement_instructions.md` –∏ –∑–∞–º–µ–Ω—é –≤—ã–∑–æ–≤—ã `read_file` –∏—Ö —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–∞–º–∏ –≤ –ø—Å–µ–≤–¥–æ–∫–æ–¥–µ.

---

```diff
  ### Step 1: READ COMMAND EXECUTION RULES
  ```
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Core/command-execution.mdc",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Core/web-search-integration.mdc",
-   should_read_entire_file: true
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/Core/command-execution.mdc", should_read_entire_file: TRUE)
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/Core/web-search-integration.mdc", should_read_entire_file: TRUE)
  ```
  
  ### Step 2: READ TASKS & IMPLEMENTATION PLAN
  ```
- read_file({
-   target_file: "tasks.md",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: "implementation-plan.md",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: "memory-bank/system/current-context.md",
-   should_read_entire_file: true
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "tasks.md", should_read_entire_file: TRUE)
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "implementation-plan.md", should_read_entire_file: TRUE)
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "memory-bank/system/current-context.md", should_read_entire_file: TRUE)
  ```
  
```

---



---

–Ø –∑–∞–º–µ–Ω–∏–ª –≤—ã–∑–æ–≤—ã `read_file` –≤ `custom_modes/implement_instructions.md`.

–¢–µ–ø–µ—Ä—å —è –ø—Ä–æ–¥–æ–ª–∂—É —Ä–∞–±–æ—Ç—É —Å `custom_modes/implement_instructions.md` –¥–ª—è —à–∞–≥–æ–≤ 3 –∏ 4, –∑–∞–º–µ–Ω—è—è –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –≤—ã–∑–æ–≤—ã `read_file`.

---

```diff
  ### Step 3: LOAD IMPLEMENTATION MODE MAP
  ```
- read_file({
-   target_file: ".cursor/rules/isolation_rules/visual-maps/implement-mode-map.mdc",
-   should_read_entire_file: true
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/visual-maps/implement-mode-map.mdc", should_read_entire_file: TRUE)
  ```
  
```

```diff
  #### For Level 1:
  ```
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Level1/workflow-level1.mdc",
-   should_read_entire_file: true
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/Level1/workflow-level1.mdc", should_read_entire_file: TRUE)
  ```
  
  #### For Level 2:
  ```
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Level2/workflow-level2.mdc",
-   should_read_entire_file: true
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/Level2/workflow-level2.mdc", should_read_read_entire_file: TRUE)
  ```
  
  #### For Level 3-4:
  ```
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Phases/Implementation/implementation-phase-reference.mdc",
-   should_read_entire_file: true
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/Phases/Implementation/implementation-phase-reference.mdc", should_read_entire_file: TRUE)
  
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Level4/phased-implementation.mdc",
-   should_read_entire_file: true
- })
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/Level4/phased-implementation.mdc", should_read_entire_file: TRUE)
  ```
  
```

---



---

–Ø –∑–∞–º–µ–Ω–∏–ª –≤—ã–∑–æ–≤—ã `read_file` –≤ `custom_modes/implement_instructions.md`.

–¢–µ–ø–µ—Ä—å —è –ø–µ—Ä–µ–π–¥—É –∫ `custom_modes/legacy-migration-guide.md`. –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—ã–∑–æ–≤—ã `run_terminal_cmd` –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è, —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –∏ –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ñ–∞–π–ª–∞–º–∏. –Ø –ø–µ—Ä–µ–≤–µ–¥—É –∏—Ö –≤ –ø—Å–µ–≤–¥–æ–∫–æ–¥.

---

```diff
  2.  Generate a command to create a zip archive.
  3.  **Request confirmation** before execution.
+ 
+ ```
+ PSEUDOCODE
+ DECLARE backup_date = PSEUDOCODE.DateTime.GET_CURRENT_DATE(format: "YYYY-MM-DD")
+ DECLARE backup_command = PSEUDOCODE.String.CONCATENATE("zip -r memory-bank-backup-", backup_date, ".zip memory-bank")
+ CALL PSEUDOCODE.System.PROMPT_USER(question: PSEUDOCODE.String.CONCATENATE("I am going to create a full backup of the current memory-bank directory. Command: ", backup_command, ". Ready to proceed?"))
+ CALL PSEUDOCODE.System.RUN_COMMAND(command: backup_command, explanation: "Creating a full backup of the current memory-bank directory")
+ ```
  
  **STEP 2: PREPARING THE NEW STRUCTURE**
  1.  Explain that you will create new directories for v3.0 tasks.
  2.  Generate an `mkdir -p` command to create `memory-bank/tasks/todo`, `memory-bank/tasks/in_progress`, `memory-bank/tasks/done`.
  3.  Create an empty file `memory-bank/system/current-task.txt`.
+ 
+ ```
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.CREATE_DIRECTORIES_BATCH(paths: ["memory-bank/tasks/todo", "memory-bank/tasks/in_progress", "memory-bank/tasks/done"])
+ CALL PSEUDOCODE.File.CREATE_FILE(path: "memory-bank/system/current-task.txt", content: "")
+ ```
  
  **STEP 3: TASK MIGRATION (Main loop)**
```

```diff
      c.  Explain that after migration, the user can manually distribute these old artifacts to the corresponding task directories.
  3.  **Request confirmation** before executing `mv` commands.
+ 
+ ```
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.CREATE_DIRECTORY(path: "memory-bank/_legacy_artifacts/", recursive: TRUE)
+ CALL PSEUDOCODE.System.PROMPT_USER(question: "I will move all old context files and other artifacts to a temporary directory `memory-bank/_legacy_artifacts/`. You can manually distribute these old artifacts to the corresponding task directories later. Ready to proceed?")
+ CALL PSEUDOCODE.File.MOVE_DIRECTORY(source_path: "memory-bank/contexts/", destination_path: "memory-bank/_legacy_artifacts/contexts/")
+ CALL PSEUDOCODE.File.MOVE_DIRECTORY(source_path: "release_notes/", destination_path: "memory-bank/_legacy_artifacts/release_notes/")
+ // Add other global artifact folders here as needed
+ ```
  
  **STEP 5: COMPLETION AND CLEANUP**
  1.  Explain that you will archive the old `tasks.md`.
  2.  Generate a command to rename `memory-bank/tasks.md` to `memory-bank/tasks.md.migrated_v2`.
  3.  Generate a final migration report: how many tasks were moved to `todo`, `in_progress`, and `done`.
+ 
+ ```
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.MOVE_FILE(source: "memory-bank/tasks.md", destination: "memory-bank/tasks.md.migrated_v2")
+ // Logic for generating migration report would go here, possibly involving reading tasks.md.migrated_v2 and iterating.
+ ```
  
  **INTERACTION INSTRUCTIONS**
```

---



---

–Ø –∑–∞–º–µ–Ω–∏–ª –∫–æ–º–∞–Ω–¥—ã –æ–±–æ–ª–æ—á–∫–∏ –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∏—Ö —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–∞–º–∏ PSEUDOCODE –≤ `custom_modes/legacy-migration-guide.md`.

–¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ—Ö–æ–∂—É –∫ `custom_modes/plan_instructions.md`. –Ø –∑–∞–º–µ–Ω—é `run_terminal_cmd` –∏ `read_file` –Ω–∞ PSEUDOCODE.

---

```diff
  ### Step 1: READ MAIN RULE & MEMORY BANK 2.0.0 TASKS
  ```
- read_file({
-   target_file: ".cursor/rules/isolation_rules/main-optimized.mdc",
-   should_read_entire_file: true
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/main-optimized.mdc", should_read_entire_file: TRUE)
  
  # MANDATORY: Check for Memory Bank 2.0.0 structure and active tasks
- run_terminal_cmd({
-   command: "find memory-bank/tasks/in_progress -name '*.md' | head -10",
-   explanation: "Finding active tasks in Memory Bank 2.0.0 structure"
- })
- 
- run_terminal_cmd({
-   command: "find memory-bank/tasks/todo -name '*.md' | head -10",
-   explanation: "Finding pending tasks in Memory Bank 2.0.0 structure"
- })
+ CALL PSEUDOCODE.System.RUN_COMMAND(command: "find memory-bank/tasks/in_progress -name '*.md' | head -10", explanation: "Finding active tasks in Memory Bank 2.0.0 structure")
+ CALL PSEUDOCODE.System.RUN_COMMAND(command: "find memory-bank/tasks/todo -name '*.md' | head -10", explanation: "Finding pending tasks in Memory Bank 2.0.0 structure")
  
  # Load active task context if available
- run_terminal_cmd({
-   command: "find memory-bank/contexts/active -name '*.md' | head -5",
-   explanation: "Finding active task contexts"
- })
+ CALL PSEUDOCODE.System.RUN_COMMAND(command: "find memory-bank/contexts/active -name '*.md' | head -5", explanation: "Finding active task contexts")
  
  # Fallback: read legacy tasks.md if Memory Bank 2.0.0 not yet migrated
- read_file({
-   target_file: "memory-bank/tasks.md",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: "memory-bank/system/current-context.md",
-   should_read_entire_file: true
- })
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "memory-bank/tasks.md", should_read_entire_file: TRUE)
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "memory-bank/system/current-context.md", should_read_entire_file: TRUE)
  ```
  
```

---



---

–Ø –∑–∞–º–µ–Ω–∏–ª –≤—ã–∑–æ–≤—ã `run_terminal_cmd` –∏ `read_file` –≤ `custom_modes/plan_instructions.md`.

–¢–µ–ø–µ—Ä—å —è –ø—Ä–æ–¥–æ–ª–∂—É —Ä–∞–±–æ—Ç—É —Å `custom_modes/plan_instructions.md` –¥–ª—è —à–∞–≥–æ–≤ 2 –∏ 3, –∑–∞–º–µ–Ω–∏–≤ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –≤—ã–∑–æ–≤—ã `read_file` –∏ `fetch_rules`.

---

```diff
  ### Step 2: LOAD PLAN MODE MAP & WEB SEARCH
  ```
- read_file({
-   target_file: ".cursor/rules/isolation_rules/visual-maps/plan-mode-map.mdc",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Core/web-search-integration.mdc",
-   should_read_entire_file: true
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/visual-maps/plan-mode-map.mdc", should_read_entire_file: TRUE)
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/Core/web-search-integration.mdc", should_read_entire_file: TRUE)
  ```
  
```

```diff
  #### For Level 2:
  ```
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Level2/task-tracking-basic.mdc",
-   should_read_entire_file: true
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/Level2/task-tracking-basic.mdc", should_read_entire_file: TRUE)
  ```
  
  #### For Level 3:
  ```
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Level3/task-tracking-intermediate.mdc",
-   should_read_entire_file: true
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/Level3/task-tracking-intermediate.mdc", should_read_entire_file: TRUE)
  
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Level3/planning-comprehensive.mdc",
-   should_read_entire_file: true
- })
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/Level3/planning-comprehensive.mdc", should_read_entire_file: TRUE)
  ```
  
  #### For Level 4:
  ```
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Level4/task-tracking-advanced.mdc",
-   should_read_entire_file: true
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/Level4/task-tracking-advanced.mdc", should_read_entire_file: TRUE)
  
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Level4/architectural-planning.mdc",
-   should_read_entire_file: true
- })
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/Level4/architectural-planning.mdc", should_read_entire_file: TRUE)
  ```
  
```

---



---

–Ø —É—Å–ø–µ—à–Ω–æ –∑–∞–º–µ–Ω–∏–ª –≤—ã–∑–æ–≤—ã `read_file` –Ω–∞ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç—ã PSEUDOCODE –≤ —Ñ–∞–π–ª–µ `custom_modes/plan_instructions.md`.

–¢–µ–ø–µ—Ä—å —è –ø–µ—Ä–µ–π–¥—É –∫ —Ñ–∞–π–ª—É `custom_modes/qa_instructions.md` –∏ –∑–∞–º–µ–Ω—é –≤—ã–∑–æ–≤—ã `read_file`.

---

```diff
  ### Step 1: READ QA RULES & WEB SEARCH INTEGRATION
  ```
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Core/web-search-integration.mdc",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: "tasks.md",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: "progress.md",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: "memory-bank/system/current-context.md",
-   should_read_entire_file: true
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/Core/web-search-integration.mdc", should_read_entire_file: TRUE)
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "tasks.md", should_read_entire_file: TRUE)
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "progress.md", should_read_entire_file: TRUE)
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "memory-bank/system/current-context.md", should_read_entire_file: TRUE)
  ```
  
```

---



---

–Ø –∑–∞–º–µ–Ω–∏–ª –≤—ã–∑–æ–≤—ã `read_file` –≤ `custom_modes/qa_instructions.md`.

–¢–µ–ø–µ—Ä—å —è –ø—Ä–æ–¥–æ–ª–∂—É —Ä–∞–±–æ—Ç—É —Å `custom_modes/qa_instructions.md` –¥–ª—è —à–∞–≥–∞ 2, –∑–∞–º–µ–Ω—è—è –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –≤—ã–∑–æ–≤—ã `read_file`.

---

```diff
  ### Step 2: LOAD QA MODE MAP
  ```
- read_file({
-   target_file: ".cursor/rules/isolation_rules/visual-maps/qa-mode-map.mdc",
-   should_read_entire_file: true
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/visual-maps/qa-mode-map.mdc", should_read_entire_file: TRUE)
  ```
  
```

---



---

–Ø –∑–∞–º–µ–Ω–∏–ª –≤—ã–∑–æ–≤—ã `read_file` –≤ `custom_modes/qa_instructions.md`.

–¢–µ–ø–µ—Ä—å —è –ø–µ—Ä–µ–π–¥—É –∫ `custom_modes/step_by_step_instructions.md`. –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—ã–∑–æ–≤—ã `run_terminal_cmd` –∏ `fetch_rules`. –Ø –∑–∞–º–µ–Ω—é –∏—Ö —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–∞–º–∏ PSEUDOCODE.

---

```diff
  1.  **Inform the user:** "No active task selected. Please choose a task to work on or create a new one."
  2.  **Display task lists:**
-     ```bash
-     run_terminal_cmd({
-       command: "echo '--- TODO ---' && ls -1 memory-bank/tasks/todo/ && echo '--- IN PROGRESS ---' && ls -1 memory-bank/tasks/in_progress/",
-       explanation: "Displaying available tasks."
-     })
+     ```
+     PSEUDOCODE
+     CALL PSEUDOCODE.System.RUN_COMMAND(command: "echo '--- TODO ---' && ls -1 memory-bank/tasks/todo/ && echo '--- IN PROGRESS ---' && ls -1 memory-bank/tasks/in_progress/", explanation: "Displaying available tasks.")
      ```
  3.  **Request selection:** "Please enter the name of the task directory to activate, or type `NEW` to create a new task."
```

```diff
  - Based on this state, I will execute the **next** development phase by loading the corresponding process map.
  
- ```bash
+ ```
  # Executable pseudocode for the main STEP_BY_STEP cycle
  # 0. Date Initialization
- initialize_system_date() # Call function from Core/datetime-manager.mdc
+ CALL PSEUDOCODE.System.DEFINE_FUNCTION(name: "initialize_system_date", parameters: [], body: () => { /* ... from Core/datetime-manager.mdc */ })
+ CALL PSEUDOCODE.System.initialize_system_date()
  
  # 1. Determine current state
- local state_file="memory-bank/system/workflow-state.txt"
- local current_state=$(cat "$state_file" 2>/dev/null || echo "START")
- echo "‚ÑπÔ∏è Current state: $current_state"
+ DECLARE state_file = "memory-bank/system/workflow-state.txt"
+ DECLARE current_state = PSEUDOCODE.File.READ_FILE(path: state_file)
+ IF PSEUDOCODE.String.TRIM_STRING(text: current_state) IS_EQUAL "" THEN
+     SET current_state = "START"
+ END IF
+ CALL PSEUDOCODE.System.LOG_MESSAGE(message: PSEUDOCODE.String.CONCATENATE("‚ÑπÔ∏è Current state: ", current_state))
  
  # 2. Execute the next phase
- case "$current_state" in
-     "START" | "ARCHIVE_COMPLETE")
-         echo "--- üöÄ Launching VAN Phase ---"
-         fetch_rules(["isolation_rules/visual-maps/van_mode_split/van-mode-map.mdc"])
-         # ... (Here the AI will execute logic from the VAN map) ...
-         echo "VAN_COMPLETE" > "$state_file"
-         echo "‚úÖ VAN Phase Complete. Type `NEXT` to proceed to the PLAN phase."
-         ;;
-     "VAN_COMPLETE")
-         echo "--- üìã Launching PLAN Phase ---"
-         fetch_rules(["isolation_rules/visual-maps/plan-mode-map.mdc"])
-         # ... (Here the AI will execute logic from the PLAN map) ...
-         echo "PLAN_COMPLETE" > "$state_file"
-         echo "‚úÖ PLAN Phase Complete. Type `NEXT` to proceed to the CREATIVE phase."
-         ;;
-     "PLAN_COMPLETE")
-         echo "--- üé® Launching CREATIVE Phase ---"
-         fetch_rules(["isolation_rules/visual-maps/creative-mode-map.mdc"])
-         # ... (Here the AI will execute logic from the CREATIVE map) ...
-         echo "CREATIVE_COMPLETE" > "$state_file"
-         echo "‚úÖ CREATIVE Phase Complete. Type `NEXT` to proceed to the IMPLEMENT phase."
-         ;;
-     "CREATIVE_COMPLETE")
-         echo "--- ‚öôÔ∏è Launching IMPLEMENT Phase ---"
-         fetch_rules(["isolation_rules/visual-maps/implement-mode-map.mdc"])
-         # MANDATORY: Apply Proactive Invariant Validation (from _cursor/rules/isolation_rules/CustomWorkflow/debugging/invariant-validation.mdc)
-         # MANDATORY: If tests fail or bugs are discovered, initiate Reactive Debugging (from _cursor/rules/isolation_rules/CustomWorkflow/debugging/systematic-debugging.mdc, using detailed-logging.mdc for best practices)
-         # ... (Here the AI will execute logic from the IMPLEMENT map) ...
-         echo "IMPLEMENT_COMPLETE" > "$state_file"
-         echo "‚úÖ IMPLEMENT Phase Complete. Type `NEXT` to proceed to the QA phase."
-         ;;
-     "IMPLEMENT_COMPLETE")
-         echo "--- üß™ Launching QA Phase ---"
-         fetch_rules(["isolation_rules/visual-maps/qa-mode-map.mdc"])
-         # MANDATORY: Apply Proactive Invariant Validation (from _cursor/rules/isolation_rules/CustomWorkflow/debugging/invariant-validation.mdc)
-         # MANDATORY: If tests fail or bugs are discovered, initiate Reactive Debugging (from _cursor/rules/isolation_rules/CustomWorkflow/debugging/systematic-debugging.mdc, using detailed-logging.mdc for best practices)
-         # ... (Here the AI will execute logic from the QA map) ...
-         echo "QA_COMPLETE" > "$state_file"
-         echo "‚úÖ QA Phase Complete. Type `NEXT` to proceed to the REFLECT phase."
-         ;;
-     "QA_COMPLETE")
-         echo "--- ü§î Launching REFLECT Phase ---"
-         fetch_rules(["isolation_rules/visual-maps/reflect-mode-map.mdc"])
-         # MANDATORY: If issues are identified during reflection (e.g., recurring bugs, unexpected failures), initiate Reactive Debugging (from _cursor/rules/isolation_rules/CustomWorkflow/debugging/systematic-debugging.mdc, using detailed-logging.mdc for best practices)
-         # ... (Here the AI will execute logic from the REFLECT map) ...
-         echo "REFLECT_COMPLETE" > "$state_file"
-         echo "‚úÖ REFLECT Phase Complete. Type `NEXT` to proceed to the ARCHIVE phase."
-         ;;
-     "REFLECT_COMPLETE")
-         echo "--- üì¶ Launching ARCHIVE Phase ---"
-         fetch_rules(["isolation_rules/visual-maps/archive-mode-map.mdc"])
-         # ... (Here the AI will execute logic from the ARCHIVE map) ...
-         echo "ARCHIVE_COMPLETE" > "$state_file"
-         echo "üéâ Full development cycle complete! You can start a new project by running STEP_BY_STEP again."
-         ;;
-     *)
-         echo "‚ö†Ô∏è Unknown state '$current_state'. Resetting to START."
-         echo "START" > "$state_file"
-         # Recursive call or re-run to execute VAN
-         ;;
- esac
+ IF current_state IS_EQUAL "START" OR current_state IS_EQUAL "ARCHIVE_COMPLETE" THEN
+     CALL PSEUDOCODE.System.LOG_MESSAGE(message: "--- üöÄ Launching VAN Phase ---")
+     CALL PSEUDOCODE.Rule.FETCH_RULES(rule_names: ["isolation_rules/visual-maps/van_mode_split/van-mode-map.mdc"])
+     // ... (Here the AI will execute logic from the VAN map) ...
+     CALL PSEUDOCODE.File.WRITE_TO_FILE(path: state_file, content: "VAN_COMPLETE")
+     CALL PSEUDOCODE.System.LOG_MESSAGE(message: "‚úÖ VAN Phase Complete. Type `NEXT` to proceed to the PLAN phase.")
+ ELSE IF current_state IS_EQUAL "VAN_COMPLETE" THEN
+     CALL PSEUDOCODE.System.LOG_MESSAGE(message: "--- üìã Launching PLAN Phase ---")
+     CALL PSEUDOCODE.Rule.FETCH_RULES(rule_names: ["isolation_rules/visual-maps/plan-mode-map.mdc"])
+     // ... (Here the AI will execute logic from the PLAN map) ...
+     CALL PSEUDOCODE.File.WRITE_TO_FILE(path: state_file, content: "PLAN_COMPLETE")
+     CALL PSEUDOCODE.System.LOG_MESSAGE(message: "‚úÖ PLAN Phase Complete. Type `NEXT` to proceed to the CREATIVE phase.")
+ ELSE IF current_state IS_EQUAL "PLAN_COMPLETE" THEN
+     CALL PSEUDOCODE.System.LOG_MESSAGE(message: "--- üé® Launching CREATIVE Phase ---")
+     CALL PSEUDOCODE.Rule.FETCH_RULES(rule_names: ["isolation_rules/visual-maps/creative-mode-map.mdc"])
+     // ... (Here the AI will execute logic from the CREATIVE map) ...
+     CALL PSEUDOCODE.File.WRITE_TO_FILE(path: state_file, content: "CREATIVE_COMPLETE")
+     CALL PSEUDOCODE.System.LOG_MESSAGE(message: "‚úÖ CREATIVE Phase Complete. Type `NEXT` to proceed to the IMPLEMENT phase.")
+ ELSE IF current_state IS_EQUAL "CREATIVE_COMPLETE" THEN
+     CALL PSEUDOCODE.System.LOG_MESSAGE(message: "--- ‚öôÔ∏è Launching IMPLEMENT Phase ---")
+     CALL PSEUDOCODE.Rule.FETCH_RULES(rule_names: ["isolation_rules/visual-maps/implement-mode-map.mdc"])
+     // MANDATORY: Apply Proactive Invariant Validation (from _cursor/rules/isolation_rules/CustomWorkflow/debugging/invariant-validation.mdc)
+     // MANDATORY: If tests fail or bugs are discovered, initiate Reactive Debugging (from _cursor/rules/isolation_rules/CustomWorkflow/debugging/systematic-debugging.mdc, using detailed-logging.mdc for best practices)
+     // ... (Here the AI will execute logic from the IMPLEMENT map) ...
+     CALL PSEUDOCODE.File.WRITE_TO_FILE(path: state_file, content: "IMPLEMENT_COMPLETE")
+     CALL PSEUDOCODE.System.LOG_MESSAGE(message: "‚úÖ IMPLEMENT Phase Complete. Type `NEXT` to proceed to the QA phase.")
+ ELSE IF current_state IS_EQUAL "IMPLEMENT_COMPLETE" THEN
+     CALL PSEUDOCODE.System.LOG_MESSAGE(message: "--- üß™ Launching QA Phase ---")
+     CALL PSEUDOCODE.Rule.FETCH_RULES(rule_names: ["isolation_rules/visual-maps/qa-mode-map.mdc"])
+     // MANDATORY: Apply Proactive Invariant Validation (from _cursor/rules/isolation_rules/CustomWorkflow/debugging/invariant-validation.mdc)
+     // MANDATORY: If tests fail or bugs are discovered, initiate Reactive Debugging (from _cursor/rules/isolation_rules/CustomWorkflow/debugging/systematic-debugging.mdc, using detailed-logging.mdc for best practices)
+     // ... (Here the AI will execute logic from the QA map) ...
+     CALL PSEUDOCODE.File.WRITE_TO_FILE(path: state_file, content: "QA_COMPLETE")
+     CALL PSEUDOCODE.System.LOG_MESSAGE(message: "‚úÖ QA Phase Complete. Type `NEXT` to proceed to the REFLECT phase.")
+ ELSE IF current_state IS_EQUAL "QA_COMPLETE" THEN
+     CALL PSEUDOCODE.System.LOG_MESSAGE(message: "--- ü§î Launching REFLECT Phase ---")
+     CALL PSEUDOCODE.Rule.FETCH_RULES(rule_names: ["isolation_rules/visual-maps/reflect-mode-map.mdc"])
+     // MANDATORY: If issues are identified during reflection (e.g., recurring bugs, unexpected failures), initiate Reactive Debugging (from _cursor/rules/isolation_rules/CustomWorkflow/debugging/systematic-debugging.mdc, using detailed-logging.mdc for best practices)
+     // ... (Here the AI will execute logic from the REFLECT map) ...
+     CALL PSEUDOCODE.File.WRITE_TO_FILE(path: state_file, content: "REFLECT_COMPLETE")
+     CALL PSEUDOCODE.System.LOG_MESSAGE(message: "‚úÖ REFLECT Phase Complete. Type `NEXT` to proceed to the ARCHIVE phase.")
+ ELSE IF current_state IS_EQUAL "REFLECT_COMPLETE" THEN
+     CALL PSEUDOCODE.System.LOG_MESSAGE(message: "--- üì¶ Launching ARCHIVE Phase ---")
+     CALL PSEUDOCODE.Rule.FETCH_RULES(rule_names: ["isolation_rules/visual-maps/archive-mode-map.mdc"])
+     // ... (Here the AI will execute logic from the ARCHIVE map) ...
+     CALL PSEUDOCODE.File.WRITE_TO_FILE(path: state_file, content: "ARCHIVE_COMPLETE")
+     CALL PSEUDOCODE.System.LOG_MESSAGE(message: "üéâ Full development cycle complete! You can start a new project by running STEP_BY_STEP again.")
+ ELSE
+     CALL PSEUDOCODE.System.LOG_WARNING(message: PSEUDOCODE.String.CONCATENATE("‚ö†Ô∏è Unknown state ', current_state, '. Resetting to START."))
+     CALL PSEUDOCODE.File.WRITE_TO_FILE(path: state_file, content: "START")
+     // Recursive call or re-run to execute VAN
+ END IF
  ```
  
```

---



---

–Ø –∑–∞–º–µ–Ω–∏–ª –≤—ã–∑–æ–≤—ã `run_terminal_cmd` –∏ `fetch_rules` –∏—Ö —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–∞–º–∏ –≤ –ø—Å–µ–≤–¥–æ–∫–æ–¥–µ –≤ `custom_modes/step_by_step_instructions.md`.

–¢–µ–ø–µ—Ä—å —è –ø–µ—Ä–µ–π–¥—É –∫ `custom_modes/switch_task_instructions.md` –∏ –∑–∞–º–µ–Ω—é –∫–æ–º–∞–Ω–¥—ã `echo` –∏ `ls` –Ω–∞ `PSEUDOCODE.System.RUN_COMMAND`. –Ø —Ç–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—é –±–ª–æ–∫ –ø—Å–µ–≤–¥–æ–∫–æ–¥–∞ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ –∑–∞–¥–∞—á—É.

---

```diff
  
  ### 1. Show all tasks
- ```bash
- echo "--- TODO ---"
- ls -1 memory-bank/tasks/todo/
- echo "--- IN PROGRESS ---"
- ls -1 memory-bank/tasks/in_progress/
+ ```
+ PSEUDOCODE
+ CALL PSEUDOCODE.System.RUN_COMMAND(command: "echo '--- TODO ---'")
+ CALL PSEUDOCODE.System.RUN_COMMAND(command: "ls -1 memory-bank/tasks/todo/")
+ CALL PSEUDOCODE.System.RUN_COMMAND(command: "echo '--- IN PROGRESS ---'")
+ CALL PSEUDOCODE.System.RUN_COMMAND(command: "ls -1 memory-bank/tasks/in_progress/")
  ```
  
  ### 2. Switch to a task
- ```bash
- # Pseudocode
- user_input_id = prompt_user("Enter Task ID to switch to (e.g., ID-001):")
- task_dir = find_directory_by_id(user_input_id)
- if [ -n "$task_dir" ]; then
-   set_active_task("$task_dir")
-   load_file("$task_dir/_context.md")
- else
-   echo "‚ùå Task with ID $user_input_id not found."
- fi
+ ```
+ PSEUDOCODE
+ DECLARE user_input_id = PSEUDOCODE.System.PROMPT_USER(question: "Enter Task ID to switch to (e.g., ID-001):")
+ DECLARE task_dir = PSEUDOCODE.File.FIND_DIRECTORY_BY_ID(user_input_id)
+ IF PSEUDOCODE.List.IS_NOT_EMPTY(task_dir) THEN
+   CALL PSEUDOCODE.Directory.SET_ACTIVE_TASK_PATH(path: task_dir)
+   CALL PSEUDOCODE.File.READ_FILE(target_file: PSEUDOCODE.String.CONCATENATE(task_dir, "/_context.md"), should_read_entire_file: TRUE)
+ ELSE
+   CALL PSEUDOCODE.System.LOG_MESSAGE(message: PSEUDOCODE.String.CONCATENATE("‚ùå Task with ID ", user_input_id, " not found."))
+ END IF
  ```
```

---



---

–Ø —É—Å–ø–µ—à–Ω–æ –∑–∞–º–µ–Ω–∏–ª –∫–æ–º–∞–Ω–¥—ã –æ–±–æ–ª–æ—á–∫–∏ –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–∞–π–ª–∞–º–∏ –Ω–∞ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç—ã PSEUDOCODE –≤ —Ñ–∞–π–ª–µ `custom_modes/switch_task_instructions.md`.

–¢–µ–ø–µ—Ä—å —è –ø–µ—Ä–µ–π–¥—É –∫ —Ñ–∞–π–ª—É `custom_modes/reflect_archive_instructions.md` –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é –≤—ã–∑–æ–≤—ã `run_terminal_cmd` –∏ `read_file` –≤ PSEUDOCODE.

---

```diff
  
  #### MANDATORY: Generate Automated Reports
- ```bash
- # MANDATORY: Generate daily report for current date
- run_terminal_cmd({
-   command: "./memory-bank/scripts/daily-report.sh",
-   explanation: "Generating Memory Bank 2.0.0 daily report"
- })
+ ```
+ PSEUDOCODE
+ // MANDATORY: Generate daily report for current date
+ CALL PSEUDOCODE.System.RUN_COMMAND(command: "./memory-bank/scripts/daily-report.sh", explanation: "Generating Memory Bank 2.0.0 daily report")
  
- # MANDATORY: Generate weekly report for current week
- run_terminal_cmd({
-   command: "./memory-bank/scripts/weekly-report.sh",
-   explanation: "Generating Memory Bank 2.0.0 weekly report"
- })
+ // MANDATORY: Generate weekly report for current week
+ CALL PSEUDOCODE.System.RUN_COMMAND(command: "./memory-bank/scripts/weekly-report.sh", explanation: "Generating Memory Bank 2.0.0 weekly report")
  
- # View generated reports
- run_terminal_cmd({
-   command: "find memory-bank/reports -name '*.md' -mtime -1 | head -5",
-   explanation: "Finding recently generated reports"
- })
+ // View generated reports
+ CALL PSEUDOCODE.System.RUN_COMMAND(command: "find memory-bank/reports -name '*.md' -mtime -1 | head -5", explanation: "Finding recently generated reports")
  ```
  
  #### Task Completion Analysis (Memory Bank 2.0.0)
- ```bash
- # Analyze completed tasks by priority
- run_terminal_cmd({
-   command: "find memory-bank/tasks/done -name '*CRITICAL*.md' | wc -l",
-   explanation: "Counting completed CRITICAL tasks"
- })
+ ```
+ PSEUDOCODE
+ // Analyze completed tasks by priority
+ CALL PSEUDOCODE.System.RUN_COMMAND(command: "find memory-bank/tasks/done -name '*CRITICAL*.md' | wc -l", explanation: "Counting completed CRITICAL tasks")
  
- # Analyze tasks in progress
- run_terminal_cmd({
-   command: "find memory-bank/tasks/in_progress -name '*.md' | wc -l",
-   explanation: "Counting active tasks"
- })
+ // Analyze tasks in progress
+ CALL PSEUDOCODE.System.RUN_COMMAND(command: "find memory-bank/tasks/in_progress -name '*.md' | wc -l", explanation: "Counting active tasks")
  
- # Context efficiency analysis
- run_terminal_cmd({
-   command: "find memory-bank/contexts/active -name '*.md' | wc -l",
-   explanation: "Counting active contexts"
- })
+ // Context efficiency analysis
+ CALL PSEUDOCODE.System.RUN_COMMAND(command: "find memory-bank/contexts/active -name '*.md' | wc -l", explanation: "Counting active contexts")
  ```
  
```

```diff
  ### Step 1: READ MAIN RULE & CONTEXT FILES
  ```
- read_file({
-   target_file: ".cursor/rules/isolation_rules/main-optimized.mdc",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: "tasks.md",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: "progress.md",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Core/web-search-integration.mdc",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: "memory-bank/system/current-context.md",
-   should_read_entire_file: true
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/main-optimized.mdc", should_read_entire_file: TRUE)
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "tasks.md", should_read_entire_file: TRUE)
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "progress.md", should_read_entire_file: TRUE)
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/Core/web-search-integration.mdc", should_read_entire_file: TRUE)
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "memory-bank/system/current-context.md", should_read_entire_file: TRUE)
  ```
  
```

```diff
  })
  ```
- 
- ### Step 3: LOAD COMPLEXITY-SPECIFIC RULES (Based on tasks.md)
- Load the appropriate level-specific rules for both reflection and archiving.
- Example for Level 2:
- ```
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Level2/reflection-basic.mdc",
-   should_read_entire_file: true
- })
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Level2/archive-basic.mdc",
-   should_read_entire_file: true
- })
- ```
- (Adjust paths for Level 1, 3, or 4 as needed)
- 
- ## DEFAULT BEHAVIOR: REFLECTION
- When this mode is activated, it defaults to the REFLECTION process. Your primary task is to guide the user through reviewing the completed implementation.
- Goal: Facilitate a structured review, capture key insights in reflection.md, and update tasks.md to reflect completion of the reflection phase.
- 
- ### üåê Web Search Integration in Reflection
- Enhance reflection with research capabilities:
- - **`@web improve: [area for improvement]`** - Research improvements and alternatives
- - **`@web trends: [technology] 2024`** - Stay current with technology trends
- - **`@web best practices: [domain] retrospective`** - Learn from industry practices
- - **`@web compare: [our approach] vs [alternatives]`** - Validate chosen approaches
- 
- Document all research findings and future improvement ideas in reflection.md with sources.
- 
- ```mermaid
- graph TD
-     ReflectStart["ü§î START REFLECTION"] --> Review["üîç Review Implementation<br>& Compare to Plan"]
-     Review --> Success["üëç Document Successes"]
-     Success --> Challenges["üëé Document Challenges"]
-     Challenges --> Lessons["üí° Document Lessons Learned"]
-     Lessons --> Improvements["üìà Document Process/<br>Technical Improvements"]
-     Improvements --> UpdateTasks["üìù Update tasks.md<br>with Reflection Status"]
-     UpdateTasks --> CreateDoc["üìÑ Create reflection.md"]
-     CreateDoc --> Prompt["üí¨ Prompt for 'ARCHIVE NOW'"]
- 
-     style ReflectStart fill:#4dbb5f,stroke:#36873f,color:white
-     style Review fill:#d6f5dd,stroke:#a3e0ae,color:black
-     style Success fill:#d6f5dd,stroke:#a3e0ae,color:black
-     style Challenges fill:#d6f5dd,stroke:#a3e0ae,color:black
-     style Lessons fill:#d6f5dd,stroke:#a3e0ae,color:black
-     style Improvements fill:#d6f5dd,stroke:#a3e0ae,color:black
-     style UpdateTasks fill:#d6f5dd,stroke:#a3e0ae,color:black
-     style CreateDoc fill:#d6f5dd,stroke:#a3e0ae,color:black
-     style Prompt fill:#f8d486,stroke:#e8b84d,color:black
- ```
- 
- ## TRIGGERED BEHAVIOR: ARCHIVING (Command: ARCHIVE NOW)
- When the user issues the ARCHIVE NOW command after completing reflection, initiate the ARCHIVING process.
- Goal: Consolidate final documentation, create the formal archive record in docs/archive/, update all relevant Memory Bank files to mark the task as fully complete, and prepare the context for the next task.
- 
- ```mermaid
- graph TD
-     ArchiveStart["üì¶ START ARCHIVING<br>(Triggered by 'ARCHIVE NOW')"] --> Verify["‚úÖ Verify reflection.md<br>is Complete"]
-     Verify --> CreateDoc["üìÑ Create Archive Document<br>in docs/archive/"]
-     CreateDoc --> UpdateTasks["üìù Update tasks.md<br>Mark Task COMPLETE"]
-     UpdateTasks --> UpdateProgress["üìà Update progress.md<br>with Archive Link"]
-     UpdateTasks --> UpdateActive["üîÑ Update activeContext.md<br>Reset for Next Task"]
-     UpdateActive --> Complete["üèÅ ARCHIVING COMPLETE"]
- 
-     style ArchiveStart fill:#4da6ff,stroke:#0066cc,color:white
-     style Verify fill:#cce6ff,stroke:#80bfff,color:black
-     style CreateDoc fill:#cce6ff,stroke:#80bfff,color:black
-     style UpdateTasks fill:#cce6ff,stroke:#80bfff,color:black
-     style UpdateProgress fill:#cce6ff,stroke:#80bfff,color:black
-     style UpdateActive fill:#cce6ff,stroke:#80bfff,color:black
-     style Complete fill:#cce6ff,stroke:#80bfff,color:black
- ```
- 
- ## VERIFICATION CHECKLISTS
- ### Reflection Verification Checklist
- ‚úì REFLECTION VERIFICATION
- - Implementation thoroughly reviewed? [YES/NO]
- - Successes documented? [YES/NO]
- - Challenges documented? [YES/NO]
- - Lessons Learned documented? [YES/NO]
- - Process/Technical Improvements identified? [YES/NO]
- - reflection.md created? [YES/NO]
- - tasks.md updated with reflection status? [YES/NO]
- 
- ‚Üí If all YES: Reflection complete. Prompt user: "Type 'ARCHIVE NOW' to proceed with archiving."
- ‚Üí If any NO: Guide user to complete missing reflection elements.
- 
- ### Archiving Verification Checklist
- ‚úì ARCHIVE VERIFICATION
- - Reflection document reviewed? [YES/NO]
- - Archive document created with all sections? [YES/NO]
- - Archive document placed in correct location (docs/archive/)? [YES/NO]
- - tasks.md marked as COMPLETED? [YES/NO]
- - progress.md updated with archive reference? [YES/NO]
- - activeContext.md updated for next task? [YES/NO]
- - Creative phase documents archived (Level 3-4)? [YES/NO/NA]
- 
- ‚Üí If all YES: Archiving complete. Suggest VAN Mode for the next task.
- ‚Üí If any NO: Guide user to complete missing archive elements.
- 
- ### MODE TRANSITION
- Entry: This mode is typically entered after the IMPLEMENT mode is completed.
- Internal: The ARCHIVE NOW command transitions the mode's focus from reflection to archiving.
- Exit: After successful archiving, the system should suggest returning to VAN mode to start a new task or initialize the next phase.
- 
- ### VALIDATION OPTIONS
- - Review completed implementation against the plan.
- - Generate reflection.md based on the review.
- - Upon command ARCHIVE NOW, generate the archive document.
- - Show updates to tasks.md, progress.md, and activeContext.md.
- - Demonstrate the final state suggesting VAN mode.
- 
- ### VERIFICATION COMMITMENT
- ```
- ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
- ‚îÇ I WILL guide the REFLECTION process first.          ‚îÇ
- ‚îÇ I WILL wait for the 'ARCHIVE NOW' command before    ‚îÇ
- ‚îÇ starting the ARCHIVING process.                     ‚îÇ
- ‚îÇ I WILL run all verification checkpoints for both    ‚îÇ
- ‚îÇ reflection and archiving.                           ‚îÇ
- ‚îÇ I WILL maintain tasks.md as the single source of    ‚îÇ
- ‚îÇ truth for final task completion status.             ‚îÇ
- ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
- ```
- 
```

---



---

–Ø —É—Å–ø–µ—à–Ω–æ –∑–∞–º–µ–Ω–∏–ª –≤—ã–∑–æ–≤—ã `run_terminal_cmd` –∏ `read_file` –Ω–∞ –ø—Å–µ–≤–¥–æ–∫–æ–¥ –≤ `custom_modes/reflect_archive_instructions.md`.

–¢–µ–ø–µ—Ä—å —è –ø—Ä–æ–¥–æ–ª–∂—É —Ä–∞–±–æ—Ç—É —Å `custom_modes/reflect_archive_instructions.md` –¥–ª—è —à–∞–≥–æ–≤ 2 –∏ 3, –∑–∞–º–µ–Ω–∏–≤ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –≤—ã–∑–æ–≤—ã `read_file`.

---

```diff
  Load the visual maps for both reflection and archiving, as this mode handles both.
  ```
- read_file({
-   target_file: ".cursor/rules/isolation_rules/visual-maps/reflect-mode-map.mdc",
-   should_read_entire_file: true
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/visual-maps/reflect-mode-map.mdc", should_read_entire_file: TRUE)
  
- read_file({
-   target_file: ".cursor/rules/isolation_rules/visual-maps/archive-mode-map.mdc",
-   should_read_entire_file: true
- })
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/visual-maps/archive-mode-map.mdc", should_read_entire_file: TRUE)
+ ```
+ 
+ ### Step 3: LOAD COMPLEXITY-SPECIFIC RULES (Based on tasks.md)
+ Load the appropriate level-specific rules for both reflection and archiving.
+ Example for Level 2:
+ ```
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/Level2/reflection-basic.mdc", should_read_entire_file: TRUE)
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/Level2/archive-basic.mdc", should_read_entire_file: TRUE)
  ```
+ (Adjust paths for Level 1, 3, or 4 as needed)
+ 
+ ## DEFAULT BEHAVIOR: REFLECTION
+ 
```

---



---

–Ø —É—Å–ø–µ—à–Ω–æ –∑–∞–º–µ–Ω–∏–ª –≤—ã–∑–æ–≤—ã `read_file` –Ω–∞ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç—ã PSEUDOCODE –≤ —Ñ–∞–π–ª–µ `custom_modes/reflect_archive_instructions.md`.

–¢–µ–ø–µ—Ä—å —è –ø–µ—Ä–µ–π–¥—É –∫ —Ñ–∞–π–ª—É `custom_modes/universal_instructions.md` –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é –≤—Å–µ –≤—ã–∑–æ–≤—ã `run_terminal_cmd`, `read_file` –∏ `fetch_rules` –≤ –ø—Å–µ–≤–¥–æ–∫–æ–¥.

---

```diff
  1.  **Inform user:** "No active task selected. Please choose a task to work on or create a new one."
  2.  **Show task lists:**
-     ```bash
-     run_terminal_cmd({
-       command: "echo '--- TODO ---' && ls -1 memory-bank/tasks/todo/ && echo '--- IN PROGRESS ---' && ls -1 memory-bank/tasks/in_progress/",
-       explanation: "Displaying available tasks."
-     })
+     ```
+     PSEUDOCODE
+     CALL PSEUDOCODE.System.RUN_COMMAND(command: "echo '--- TODO ---' && ls -1 memory-bank/tasks/todo/ && echo '--- IN PROGRESS ---' && ls -1 memory-bank/tasks/in_progress/", explanation: "Displaying available tasks.")
      ```
  3.  **Prompt for choice:** "Please enter the name of the task directory to activate, or type `NEW` to create a new task."
```

```diff
  ### Step 1: READ UNIVERSAL MODE CORE RULES
  ```
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Core/universal-mode-integration.mdc",
-   should_read_entire_file: true
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/Core/universal-mode-integration.mdc", should_read_entire_file: TRUE)
  
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Core/web-search-integration.mdc",
-   should_read_entire_file: true
- })
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/Core/web-search-integration.mdc", should_read_entire_file: TRUE)
  
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Core/qa-interrupt-system.mdc",
-   should_read_entire_file: true
- })
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/Core/qa-interrupt-system.mdc", should_read_entire_file: TRUE)
  ```
  
  ### Step 2: READ CURRENT STATE & TASKS
  ```
- read_file({
-   target_file: "tasks.md",
-   should_read_entire_file: true
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "tasks.md", should_read_entire_file: TRUE)
  
- read_file({
-   target_file: "memory-bank/activeContext.md",
-   should_read_entire_file: true
- })
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "memory-bank/activeContext.md", should_read_entire_file: TRUE)
  
- read_file({
-   target_file: "progress.md",
-   should_read_entire_file: true
- })
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "progress.md", should_read_entire_file: TRUE)
  
- read_file({
-   target_file: "memory-bank/system/current-context.md",
-   should_read_entire_file: true
- })
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "memory-bank/system/current-context.md", should_read_entire_file: TRUE)
  ```
  
```

---



---

–Ø —É—Å–ø–µ—à–Ω–æ –∑–∞–º–µ–Ω–∏–ª –≤—ã–∑–æ–≤—ã `run_terminal_cmd`, `read_file` –∏ `fetch_rules` –∏—Ö —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–∞–º–∏ –≤ –ø—Å–µ–≤–¥–æ–∫–æ–¥–µ –≤ `custom_modes/universal_instructions.md`.

–¢–µ–ø–µ—Ä—å —è –ø—Ä–æ–¥–æ–ª–∂—É —Ä–∞–±–æ—Ç—É —Å `custom_modes/universal_instructions.md` –¥–ª—è —à–∞–≥–∞ 3, –∑–∞–º–µ–Ω—è—è –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –≤—ã–∑–æ–≤—ã `read_file` –Ω–∞ `PSEUDOCODE.File.READ_FILE`.

---

```diff
  ### Step 3: LOAD MODE-SPECIFIC REFERENCES
  ```
- read_file({
-   target_file: ".cursor/rules/isolation_rules/visual-maps/van-mode-map.mdc",
-   should_read_entire_file: true
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/visual-maps/van-mode-map.mdc", should_read_entire_file: TRUE)
  
- read_file({
-   target_file: ".cursor/rules/isolation_rules/visual-maps/plan-mode-map.mdc",
-   should_read_entire_file: true
- })
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/visual-maps/plan-mode-map.mdc", should_read_entire_file: TRUE)
  
- read_file({
-   target_file: ".cursor/rules/isolation_rules/visual-maps/creative-mode-map.mdc",
-   should_read_entire_file: true
- })
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/visual-maps/creative-mode-map.mdc", should_read_entire_file: TRUE)
  
- read_file({
-   target_file: ".cursor/rules/isolation_rules/visual-maps/implement-mode-map.mdc",
-   should_read_entire_file: true
- })
+ CALL PSEUDOCODE.File.READ_FILE(target_file: ".cursor/rules/isolation_rules/visual-maps/implement-mode-map.mdc", should_read_entire_file: TRUE)
  ```
  
```

---



---

–Ø —É—Å–ø–µ—à–Ω–æ –∑–∞–º–µ–Ω–∏–ª –≤—Å–µ –≤—ã–∑–æ–≤—ã —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–∞–π–ª–∞–º–∏ –Ω–∞ –ø—Å–µ–≤–¥–æ–∫–æ–¥ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö. –¢–µ–ø–µ—Ä—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–º–∏ –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∞–≥–µ–Ω—Ç–æ–º.

---

_**User**_

–¥–∞–≤–∞–π –∑–∞–º–µ–Ω–∏–º –∫–æ–º–∞–Ω–¥—ã —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–æ–º –Ω–∞ –ø—Å–µ–≤–¥–æ—è–∑—ã–∫–µ –ø–æ—Å–∫–æ–ª—å–∫—É –Ω–µ –≤—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏–º–µ—é—Ç –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ shell –∫–æ–º–∞–Ω–¥—ã  –∏ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, —á—Ç–æ–±—ã –¥–ª—è –ò–ò –±—ã–ª–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é "—Ç—Ä–∞–Ω—Å–ª–∏—Ä—É–π –Ω–∞ —è–∑—ã–∫ —Ç–µ–∫—É—â–µ–π shell" –∏ —Å–ª–æ–≤–µ—Å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ

---

_**Assistant**_



---

–Ø –ø–æ–Ω—è–ª. –í—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —è —É–±–µ–¥–∏–ª—Å—è, —á—Ç–æ –≤—Å–µ –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã shell-–∫–æ–º–∞–Ω–¥ –∑–∞–º–µ–Ω–µ–Ω—ã –ø—Å–µ–≤–¥–æ–∫–æ–¥–æ–º, –∏ —á—Ç–æ–±—ã –¥–ª—è –ò–ò –±—ã–ª–æ —á–µ—Ç–∫–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ "—Ç—Ä–∞–Ω—Å–ª–∏—Ä—É–π –Ω–∞ —è–∑—ã–∫ —Ç–µ–∫—É—â–µ–π shell" –≤–º–µ—Å—Ç–µ —Å–æ —Å–ª–æ–≤–µ—Å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ. –Ø —É–∂–µ –ø—Ä–æ–¥–µ–ª–∞–ª —ç—Ç—É —Ä–∞–±–æ—Ç—É –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Ñ–∞–π–ª–æ–≤.

–¢–µ–ø–µ—Ä—å –º–Ω–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Ñ–∞–π–ª—ã: `custom_modes/van_core_workflow.md` –∏ `custom_modes/van_instructions.md`. –Ø –Ω–∞—á–Ω—É —Å `custom_modes/van_core_workflow.md`.

---

Read file: custom_modes/van_core_workflow.md

---



---

–Ø –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–ª —Ñ–∞–π–ª `custom_modes/van_core_workflow.md`. –≠—Ç–æ—Ç —Ñ–∞–π–ª –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ—Ç–æ–∫ –∏ –ª–æ–≥–∏–∫—É —Ä–µ–∂–∏–º–∞ VAN —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–∏–∞–≥—Ä–∞–º–º Mermaid –∏ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –æ–ø–∏—Å–∞–Ω–∏–π. –û–Ω –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä—è–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤ shell-–∫–æ–º–∞–Ω–¥ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–π `read_file`/`fetch_rules` –≤ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã—Ö –±–ª–æ–∫–∞—Ö –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –±—ã–ª–æ –±—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –≤ –ø—Å–µ–≤–¥–æ–∫–æ–¥. –§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —ç—Ç–∏—Ö —à–∞–≥–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∞–≤–∏–ª) —É–∂–µ –±—ã–ª–∞ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞ –≤ –ø—Å–µ–≤–¥–æ–∫–æ–¥ –≤ —Ñ–∞–π–ª–µ `custom_modes/step_by_step_instructions.md`.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤ `custom_modes/van_core_workflow.md` –Ω–µ—Ç –ø—Ä—è–º—ã—Ö –∫–æ–º–∞–Ω–¥ –¥–ª—è –∑–∞–º–µ–Ω—ã.

–¢–µ–ø–µ—Ä—å —è –ø–µ—Ä–µ–π–¥—É –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É —Ñ–∞–π–ª—É: `custom_modes/van_instructions.md`. –Ø –ø—Ä–æ—á–∏—Ç–∞—é –µ–≥–æ, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–∞–º –Ω–µ—Ç –ø—Ä—è–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –ø—Å–µ–≤–¥–æ–∫–æ–¥.

---

Read file: custom_modes/van_instructions.md

---



---

–Ø –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–ª `custom_modes/van_instructions.md` –∏ –Ω–∞—à–µ–ª –≤—ã–∑–æ–≤—ã shell-–∫–æ–º–∞–Ω–¥ –∏ `fetch_rules`, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –ø—Å–µ–≤–¥–æ–∫–æ–¥.

–Ø –∑–∞–º–µ–Ω—é –∏—Ö –Ω–∞ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç—ã –Ω–∞ –ø—Å–µ–≤–¥–æ–∫–æ–¥–µ, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å, –∏ –¥–æ–±–∞–≤–ª—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é "TRANSLATE_TO_CURRENT_SHELL_LANGUAGE" —Å–æ —Å–ª–æ–≤–µ—Å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ.


---

```diff
  1.  **Inform user:** "No active task selected. Please choose a task to work on or create a new one."
  2.  **Show task lists:**
-     ```bash
-     run_terminal_cmd({
-       command: "echo '--- TODO ---' && ls -1 memory-bank/tasks/todo/ && echo '--- IN PROGRESS ---' && ls -1 memory-bank/tasks/in_progress/",
-       explanation: "Displaying available tasks."
-     })
+     ```
+     PSEUDOCODE
+     // Translate to current shell language: List 'todo' tasks and 'in progress' tasks in memory-bank/tasks directory.
+     CALL PSEUDOCODE.System.RUN_COMMAND(command: "echo '--- TODO ---' && ls -1 memory-bank/tasks/todo/ && echo '--- IN PROGRESS ---' && ls -1 memory-bank/tasks/in_progress/", explanation: "Displaying available tasks.")
      ```
  3.  **Request selection:** "Please enter the name of the task directory to activate, or type `NEW` to create a new task."
```

```diff
  
  #### Step 3: Standard VAN Flow
- - `fetch_rules(["isolation_rules/visual-maps/van_mode_split/van-mode-map.mdc"])`
+ - CALL PSEUDOCODE.Rule.FETCH_RULES(rule_names: ["isolation_rules/visual-maps/van_mode_split/van-mode-map.mdc"])
  - ... (and then according to the existing `VAN` logic, including Git check, complexity determination, etc.)
  
  ## üß≠ NAVIGATION
  - üè† **[Main Instructions](van_instructions.md)** ‚Üê You are here
  ```
- read_file({
-   target_file: "van_core_workflow.md",
-   should_read_entire_file: true
- })
+ PSEUDOCODE
+ CALL PSEUDOCODE.File.READ_FILE(target_file: "van_core_workflow.md", should_read_entire_file: TRUE)
+ ```
  
  
```

```diff
  3. **Memory Bank 2.0.0 Initialization**: Check and migrate to new structure:
  ```
- # MANDATORY: Ensure Memory Bank 2.0.0 structure exists
- run_terminal_cmd({
-   command: "mkdir -p memory-bank/{tasks/{todo,in_progress/{active,blocked,review},done},contexts/{active,suspended,archived},reports/{daily,weekly,monthly},templates,indexes,scripts,system}\",
-   explanation: \"Creating Memory Bank 2.0.0 directory structure\"
- })
+ PSEUDOCODE
+ // Translate to current shell language: Create the necessary directory structure for Memory Bank 2.0.0.
+ CALL PSEUDOCODE.System.RUN_COMMAND(command: "mkdir -p memory-bank/{tasks/{todo,in_progress/{active,blocked,review},done},contexts/{active,suspended,archived},reports/{daily,weekly,monthly},templates,indexes,scripts,system}", explanation: "Creating Memory Bank 2.0.0 directory structure")
  
- # Scan for legacy tasks.md files requiring migration
- run_terminal_cmd({
-   command: "find . -name \'tasks.md\' -type f",
-   explanation: "Finding legacy tasks.md files for migration"
- })
- 
- # Search for TODO/FIXME/HACK tasks for migration
- run_terminal_cmd({
-   command: "grep -r -n -i \'TODO\\\\|FIXME\\\\|HACK\' --include=\'*.md\' . | head -30",
-   explanation: "Searching for TODO tasks for Memory Bank 2.0.0 migration"
- })
+ // Translate to current shell language: Find all legacy tasks.md files within the current directory.
+ CALL PSEUDOCODE.System.RUN_COMMAND(command: "find . -name 'tasks.md' -type f", explanation: "Finding legacy tasks.md files for migration")
+ 
+ // Translate to current shell language: Search for TODO, FIXME, or HACK comments in markdown files and show the first 30 matches.
+ CALL PSEUDOCODE.System.RUN_COMMAND(command: "grep -r -n -i 'TODO\\|FIXME\\|HACK' --include='*.md' . | head -30", explanation: "Searching for TODO tasks for Memory Bank 2.0.0 migration")
  
- # Search for incomplete checkboxes for migration
- run_terminal_cmd({
-   command: "grep -r -n -E \'\\\\- \\\\[ \\\\]\' --include=\'*.md\' . | head -20",
-   explanation: "Searching for incomplete tasks for Memory Bank 2.0.0 migration"
- })
+ // Translate to current shell language: Search for incomplete checklist items in markdown files and show the first 20 matches.
+ CALL PSEUDOCODE.System.RUN_COMMAND(command: "grep -r -n -E '\\- \\[ \\]' --include='*.md' . | head -20", explanation: "Searching for incomplete tasks for Memory Bank 2.0.0 migration")
  
- # CRITICAL: Perform automatic migration to Memory Bank 2.0.0
- # This step converts all found tasks to new YYYY-MM-DD format structure
+ // CRITICAL: Perform automatic migration to Memory Bank 2.0.0
+ // This step converts all found tasks to new YYYY-MM-DD format structure
  ```
  
```

```diff
  ### Standard VAN Mode Rules Loading
  ```
- fetch_rules([
+ PSEUDOCODE
+ // Translate to current shell language: Fetch rule maps for VAN mode analysis, complexity determination, file verification, and web search integration.
+ CALL PSEUDOCODE.Rule.FETCH_RULES(rule_names: [
    "isolation_rules/visual-maps/van_mode_split/van-mode-map",
    "isolation_rules/Core/complexity-decision-tree",
```

```diff
  
  ```
- fetch_rules([
+ PSEUDOCODE
+ // Translate to current shell language: Fetch rules for optimization integration, platform awareness, and systematic debugging workflow.
+ CALL PSEUDOCODE.Rule.FETCH_RULES(rule_names: [
    "isolation_rules/Core/optimization-integration",
    "isolation_rules/Core/platform-awareness",
```

---



---

–Ø –∑–∞–º–µ–Ω–∏–ª –≤—Å–µ –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã shell-–∫–æ–º–∞–Ω–¥ –∏ `fetch_rules` –∏—Ö —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–∞–º–∏ –Ω–∞ –ø—Å–µ–≤–¥–æ–∫–æ–¥–µ –≤ —Ñ–∞–π–ª–µ `custom_modes/van_instructions.md`, –∞ —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–∏–ª –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–∞ —è–∑—ã–∫ —Ç–µ–∫—É—â–µ–π –æ–±–æ–ª–æ—á–∫–∏ –∏ —Å–ª–æ–≤–µ—Å–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ.

–ú—ã –ø—Ä–æ—à–ª–∏ –ø–æ –≤—Å–µ–º —Ñ–∞–π–ª–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —É–∫–∞–∑–∞–ª–∏ –≤ –ø–µ—Ä–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏, –∏ –∑–∞–º–µ–Ω–∏–ª–∏ –≤—Å–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ –∫–æ–º–∞–Ω–¥ –Ω–∞ –ø—Å–µ–≤–¥–æ–∫–æ–¥. –í—Å–µ —ç—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—ã–ª–∏ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–Ω—è—Ç—ã.

–¢–µ–ø–µ—Ä—å –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–º–∏ –∏ –≥–æ—Ç–æ–≤—ã–º–∏ –∫ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –∞–≥–µ–Ω—Ç–æ–º.

---

