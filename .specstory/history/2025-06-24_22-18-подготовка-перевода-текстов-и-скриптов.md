<!-- Generated by SpecStory -->

# –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–æ–≤ –∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ (2025-06-25 01:18:50)

_**User**_

–¥–∞–≤–∞–π —Ç–∞–∫–∂–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∏–º –ø–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–æ–≤ –∏ –ø–µ—Ä–µ–≤–æ–¥ —Å–∫—Ä–∏–ø—Ç–æ–≤ –Ω–∞ @PSE.md –¥–ª—è –∏–∑–±–∞–≤–ª–µ–Ω–∏—è –æ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã 

—Å–∫—Ä–∏–ø—Ä—ã –∫–æ—Ç–æ—Ä—ã–µ –º—ã –±—É–¥–µ–º –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –¥–∞–≤–∞–π –±—É–¥–µ—Ç –∏–Ω–≥–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é /custom_modes/*.pse –∏—Ö –Ω—É–∂–Ω–æ –∏–Ω—Ç–µ–≥–∏—Ä–æ–≤–∞—Ç—å —á—Ç–æ–±—ã –æ–Ω–∏ –±—ã–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤–Ω—É—Ç—å –∑–∞–ø—Ä–æ—Å–∞ –≤ –≤–∏–¥–µ —Ç–µ–∫—Å—Ç–∞ –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞–µ—Ç –∏–¥–µ—é –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç—Ä–∞–Ω—Å–ª–∏—Ä–æ–≤–∞–Ω –≤ –∫–æ–¥ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –∑–∞–ø—É—Å–∫–∞

---

_**Assistant**_



---

–Ø –ø–æ–Ω–∏–º–∞—é, —á—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ–∫—Å—Ç—ã –∏ —Å–∫—Ä–∏–ø—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç PSEUDOCODE (`.pse`) –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `/custom_modes/`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –≤ –≤–∏–¥–µ —Ç–µ–∫—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω –≤ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π –∫–æ–¥ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –∑–∞–ø—É—Å–∫–∞.

–î–ª—è –Ω–∞—á–∞–ª–∞, –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `custom_modes/`, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã —Å–ª–µ–¥—É–µ—Ç –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å.


---

<details>
            <summary>Listed directory custom_modes/ ‚Ä¢ **14** results</summary>
        
| Name |
|-------|
| üìÑ `design_instructions.md` |
| üìÑ `universal_instructions.md` |
| üìÑ `van_core_workflow.md` |
| üìÑ `van_instructions.md` |
| üìÑ `step_by_step_instructions.md` |
| üìÑ `reflect_archive_instructions.md` |
| üìÑ `qa_instructions.md` |
| üìÑ `implement_instructions.md` |
| üìÑ `plan_instructions.md` |
| üìÑ `creative_instructions.md` |
| üìÑ `legacy-migration-guide.md` |
| üìÑ `switch_task_instructions.md` |
| üìÑ `mode-switching-analysis.md` |
| üìÑ `mode_switching_analysis.md` |

</details>

---



---

–û—Ç–ª–∏—á–Ω–æ, —è –≤–∏–∂—É —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `custom_modes/`. –¢–µ–ø–µ—Ä—å —è –≤—ã–±–µ—Ä—É —Ñ–∞–π–ª—ã, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –∏–ª–∏ –ª–æ–≥–∏–∫—É, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤ PSEUDOCODE.

–ù–∞—á–Ω—É —Å —Ñ–∞–π–ª–∞ `universal_instructions.md`, —Ç–∞–∫ –∫–∞–∫ –æ–Ω, —Å—É–¥—è –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å. –Ø –ø—Ä–æ—á–∏—Ç–∞—é –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, –∞ –∑–∞—Ç–µ–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É—é —Ä–∞–∑–¥–µ–ª—ã, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—É—é –ª–æ–≥–∏–∫—É, –∏ –ø–µ—Ä–µ–≤–µ–¥—É –∏—Ö –≤ PSEUDOCODE. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —è —Å–æ–∑–¥–∞–º –Ω–æ–≤—ã–π —Ñ–∞–π–ª –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `/custom_modes/` —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `.pse`.

–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ—á–∏—Ç–∞–µ–º `universal_instructions.md`:


---

Read file: custom_modes/universal_instructions.md

---



---

–Ø –ø–æ–Ω—è–ª. –í—ã —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É `universal_instructions.md` –≤ PSEUDOCODE –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ—ë –≤ `custom_modes/universal_workflow.pse`. –≠—Ç–æ—Ç —Ñ–∞–π–ª –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞.

–Ø –ø–µ—Ä–µ–≤—ë–ª –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —à–∞–≥–∏ –∏ –ª–æ–≥–∏–∫—É –∏–∑ `universal_instructions.md` –≤ PSEUDOCODE. –§–∞–π–ª –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –≤ `custom_modes/universal_workflow.pse`.

–í–æ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:


---

```diff
- 
+ PSEUDOCODE
+ 
+ // MEMORY BANK UNIVERSAL WORKFLOW (ENHANCED AUTOPILOT)
+ // This mode performs a full development cycle. Before launching, I will check if an active task is selected.
+ // If not, I will help you select or create one.
+ 
+ // --- UNIVERSAL EXECUTION LOGIC ---
+ 
+ // Step 1: Initialization and active task check
+ CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: "initialize_system_date")
+ DECLARE active_task_path = CALL PSEUDOCODE.System.GET_ACTIVE_TASK_PATH()
+ 
+ IF PSEUDOCODE.List.IS_NOT_EMPTY(value: active_task_path) THEN
+   // If active_task_path is not empty, proceed to Step 3.
+   CALL PSEUDOCODE.System.LOG_MESSAGE(message: "‚úÖ Active task detected. Proceeding with UNIVERSAL workflow.")
+   CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: "start_universal_flow")
+ ELSE
+   // If active_task_path is empty, proceed to Step 2.
+   CALL PSEUDOCODE.System.LOG_MESSAGE(message: "üî¥ No active task detected. Initiating task selection process.")
+   CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: "handle_no_active_task")
+ END IF
+ 
+ // --- HELPER FUNCTIONS ---
+ 
+ // Function to handle task selection when no task is active
+ CALL PSEUDOCODE.System.DEFINE_FUNCTION(name: "handle_no_active_task", parameters: [], body: () => {
+   CALL PSEUDOCODE.System.LOG_MESSAGE(message: "No active task selected. Please choose a task to work on or create a new one.")
+ 
+   // Display available tasks (example: using shell commands via run_terminal_cmd for illustration)
+   // In a pure PSEUDOCODE environment, this would involve PSEUDOCODE.File.LIST_FILES_BY_PATTERN
+   CALL PSEUDOCODE.System.LOG_MESSAGE(message: "--- TODO ---")
+   // Placeholder for listing todo tasks
+   // CALL PSEUDOCODE.System.RUN_COMMAND(command: "ls -1 memory-bank/tasks/todo/")
+   CALL PSEUDOCODE.System.LOG_MESSAGE(message: "--- IN PROGRESS ---")
+   // Placeholder for listing in progress tasks
+   // CALL PSEUDOCODE.System.RUN_COMMAND(command: "ls -1 memory-bank/tasks/in_progress/")
+ 
+   DECLARE user_choice = CALL PSEUDOCODE.System.PROMPT_USER(question: "Please enter the name of the task directory to activate, or type `NEW` to create a new task.")
+ 
+   IF PSEUDOCODE.String.TO_LOWER_CASE(text: user_choice) IS_EQUAL "new" THEN
+     // Placeholder for creating new task logic from Core/task-management-2-0.mdc
+     CALL PSEUDOCODE.System.LOG_MESSAGE(message: "Creating a new task...")
+     // CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: "create_new_task_logic")
+   ELSE
+     // Assuming user provides a valid directory name
+     DECLARE task_directory_name = user_choice
+     // Determine if task is in todo or in_progress (simplified for PSEUDOCODE)
+     DECLARE task_path_prefix = "memory-bank/tasks/in_progress/" // Defaulting for simplicity
+     // In a real system, you would check if the directory exists in todo or in_progress
+ 
+     CALL PSEUDOCODE.System.LOG_MESSAGE(message: PSEUDOCODE.String.CONCATENATE_STRINGS("Setting active task to: ", task_path_prefix, task_directory_name))
+     // CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: "set_active_task", task_path: PSEUDOCODE.String.CONCATENATE_STRINGS(task_path_prefix, task_directory_name))
+   END IF
+ 
+   // After task selection/creation, proceed with the main universal flow
+   CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: "start_universal_flow")
+ })
+ 
+ 
+ // Step 3: Standard UNIVERSAL-flow
+ CALL PSEUDOCODE.System.DEFINE_FUNCTION(name: "start_universal_flow", parameters: [], body: () => {
+   CALL PSEUDOCODE.System.LOG_MESSAGE(message: "üöÄ LAUNCHING UNIVERSAL MODE")
+   CALL PSEUDOCODE.System.LOG_HEADER(message: "========================")
+ 
+   // 1. Initialization
+   CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: "initialize_system_date") // from Core/datetime-manager.mdc
+   DECLARE interaction_mode = CALL PSEUDOCODE.System.GET_CURRENT_INTERACTION_MODE_FROM_SYSTEM()
+   IF PSEUDOCODE.String.IS_EQUAL(value1: interaction_mode, value2: "MANUAL") THEN
+     CALL PSEUDOCODE.System.LOG_WARNING(message: "UNIVERSAL mode is running, but you are in MANUAL interaction mode. I will proceed autonomously. To switch, set interaction mode to AUTO.")
+   END IF
+ 
+   // 2. Sequential Mode Calls
+   CALL PSEUDOCODE.System.LOG_MESSAGE(message: "üîç INITIALIZE VAN PHASE: Analysis & Problem Identification")
+   // Placeholder for VAN phase logic (load van-mode-map.mdc)
+   // CALL PSEUDOCODE.Mode.TRANSITION_TO_MODE(mode: "VAN")
+ 
+   CALL PSEUDOCODE.System.LOG_MESSAGE(message: "üìã INITIALIZE PLAN PHASE: Implementation Planning")
+   // Placeholder for PLAN phase logic (load plan-mode-map.mdc)
+   // CALL PSEUDOCODE.Mode.TRANSITION_TO_MODE(mode: "PLAN")
+ 
+   // Conditional CREATIVE phase
+   // PSEUDOCODE.Creative.ARE_CREATIVE_PHASES_REQUIRED() would determine this
+   IF TRUE THEN // Placeholder for conditional check
+     CALL PSEUDOCODE.System.LOG_MESSAGE(message: "üé® INITIALIZE CREATIVE PHASE: Design & Architecture")
+     // Placeholder for CREATIVE phase logic (load creative-mode-map.mdc)
+     // CALL PSEUDOCODE.Mode.TRANSITION_TO_MODE(mode: "CREATIVE")
+   END IF
+ 
+   CALL PSEUDOCODE.System.LOG_MESSAGE(message: "‚öíÔ∏è INITIALIZE IMPLEMENT PHASE: Code Implementation")
+   // Placeholder for IMPLEMENT phase logic (load implement-mode-map.mdc)
+   // CALL PSEUDOCODE.Mode.TRANSITION_TO_MODE(mode: "IMPLEMENT")
+   // Integration Workflow for L3/L4 tasks would be called here
+ 
+   CALL PSEUDOCODE.System.LOG_MESSAGE(message: "üß™ INITIALIZE QA PHASE: Quality Assurance")
+   // Placeholder for QA phase logic (load qa-mode-map.mdc)
+   // CALL PSEUDOCODE.Mode.TRANSITION_TO_MODE(mode: "QA")
+   // Failure Pattern Analysis for failures would be called here
+ 
+   CALL PSEUDOCODE.System.LOG_MESSAGE(message: "ü§î INITIALIZE REFLECT PHASE: Analysis & Learning")
+   // Placeholder for REFLECT phase logic (load reflect-mode-map.mdc)
+   // CALL PSEUDOCODE.Mode.TRANSITION_TO_MODE(mode: "REFLECT")
+   // Refactoring Workflow and Advanced Reporting for L3/L4 tasks would be called here
+ 
+   CALL PSEUDOCODE.System.LOG_MESSAGE(message: "üì¶ INITIALIZE ARCHIVE PHASE: Documentation & Storage")
+   // Placeholder for ARCHIVE phase logic (load archive-mode-map.mdc)
+   // CALL PSEUDOCODE.Mode.TRANSITION_TO_MODE(mode: "ARCHIVE")
+ 
+   CALL PSEUDOCODE.System.LOG_MESSAGE(message: "üéâ UNIVERSAL WORKFLOW COMPLETE")
+ })
```

---



---

–Ø —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–≤–µ–ª `universal_instructions.md` –≤ PSEUDOCODE –∏ —Å–æ—Ö—Ä–∞–Ω–∏–ª –µ–≥–æ –∫–∞–∫ `custom_modes/universal_workflow.pse`.

–¢–µ–ø–µ—Ä—å, –¥–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ–π–¥–µ–º –∫ `custom_modes/van_core_workflow.md`. –Ø –ø—Ä–æ—á–∏—Ç–∞—é –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ —á–∞—Å—Ç–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤ PSEUDOCODE.


---

Read file: custom_modes/van_core_workflow.md

---



---

–Ø –ø–æ–Ω—è–ª. –í—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —è –ø–µ—Ä–µ–≤–µ–ª –ª–æ–≥–∏–∫—É –∏–∑ —Ñ–∞–π–ª–∞ `custom_modes/van_core_workflow.md` –≤ PSEUDOCODE –∏ —Å–æ—Ö—Ä–∞–Ω–∏–ª –µ–µ –∫–∞–∫ `custom_modes/van_core_workflow.pse`. –Ø —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á—É—Å—å –Ω–∞ –ø–µ—Ä–µ–≤–æ–¥–µ —Ä–∞–∑–¥–µ–ª–∞ "TASK CONTINUITY DETAILED PROCESS".

–í–æ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞, –∫–æ—Ç–æ—Ä–æ–µ —è —Å–µ–π—á–∞—Å —Å–æ–∑–¥–∞–º:


---

```diff
- 
+ PSEUDOCODE
+ 
+ // VAN CORE WORKFLOW - TASK CONTINUITY DETAILED PROCESS
+ 
+ // When VAN mode starts, perform task continuity checks and migration.
+ CALL PSEUDOCODE.System.DEFINE_FUNCTION(name: "van_mode_start_task_continuity_check", parameters: [], body: () => {
+   CALL PSEUDOCODE.System.LOG_MESSAGE(message: "üîÑ VAN Mode Start - Initiating Task Continuity Check")
+ 
+   IF PSEUDOCODE.File.FILE_EXISTS(path: "memory-bank/migration.md") THEN
+     CALL PSEUDOCODE.System.LOG_MESSAGE(message: "üìÑ migration.md exists. Validating and processing migration document.")
+     CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: "validate_migration_document_format", file_path: "memory-bank/migration.md")
+     // Assuming validation passes, proceed to process.
+     CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: "process_task_migration") // This function should handle parsing, merging, and archiving.
+     CALL PSEUDOCODE.System.LOG_MESSAGE(message: "‚úÖ Migration processed and integrated.")
+   ELSE
+     CALL PSEUDOCODE.System.LOG_MESSAGE(message: "migration.md not found. Checking if tasks.md has content.")
+     IF PSEUDOCODE.File.CHECK_FILE_HAS_CONTENT(path: "memory-bank/tasks.md") THEN
+       CALL PSEUDOCODE.System.LOG_WARNING(message: "‚ö†Ô∏è tasks.md has content. Warning user about potential task loss.")
+       // This is where the warning system would be triggered and user choice handled.
+       // For PSEUDOCODE, we'll represent the decision point as a log and a placeholder function call.
+       CALL PSEUDOCODE.System.LOG_MESSAGE(message: "User needs to choose: create migration, or proceed anyway (archiving existing tasks).")
+       // CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: "handle_user_choice_for_task_loss")
+     ELSE
+       CALL PSEUDOCODE.System.LOG_MESSAGE(message: "tasks.md is empty. Initializing new task structure.")
+       // Placeholder for initializing new task structure logic.
+       // CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: "initialize_new_task_structure")
+     END IF
+   END IF
+ 
+   CALL PSEUDOCODE.System.LOG_MESSAGE(message: "‚úÖ VAN Mode Ready for core analysis.")
+ })
+ 
+ // --- Helper Functions (placeholders, as their full implementation is in other rules) ---
+ 
+ // Placeholder for validating the migration document format
+ CALL PSEUDOCODE.System.DEFINE_FUNCTION(name: "validate_migration_document_format", parameters: ["file_path"], body: () => {
+   // Logic from 'task-preservation-rules.md' -> 'Task Structure Validation'
+   CALL PSEUDOCODE.System.LOG_MESSAGE(message: PSEUDOCODE.String.CONCATENATE_STRINGS("Validating migration format for: ", PSEUDOCODE.System.GET_VARIABLE(name: "file_path")))
+   // Return TRUE or FALSE based on validation outcome.
+   PSEUDOCODE.System.RETURN(value: TRUE) // Simplified for this example
+ })
+ 
+ // Placeholder for processing task migration (parsing, merging, archiving)
+ CALL PSEUDOCODE.System.DEFINE_FUNCTION(name: "process_task_migration", parameters: [], body: () => {
+   // Logic from 'task-continuity-management.md' -> 'Migration Processing Steps'
+   CALL PSEUDOCODE.System.LOG_MESSAGE(message: "Processing task migration document: parsing unfinished tasks and merging.")
+   // After successful processing, the migration.md should be archived.
+   CALL PSEUDOCODE.Archive.ARCHIVE_MIGRATION_FILE(file_path: "memory-bank/migration.md", destination_path: PSEUDOCODE.String.CONCATENATE_STRINGS("memory-bank/archive/migration-processed-", PSEUDOCODE.DateTime.GET_FORMATTED_DATE_TIME(format: "%Y%m%d-%H%M%S"), ".md"))
+ })
```

---



---

–Ø —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–≤–µ–ª `van_core_workflow.md` –≤ PSEUDOCODE.

–¢–µ–ø–µ—Ä—å —è –ø–µ—Ä–µ–π–¥—É –∫ `custom_modes/van_instructions.md`. –Ø –ø—Ä–æ—á–∏—Ç–∞—é –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ —á–∞—Å—Ç–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤ PSEUDOCODE.


---

Read file: custom_modes/van_instructions.md

---



---

–Ø —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–≤–µ–ª –ª–æ–≥–∏–∫—É –∏–∑ `custom_modes/van_core_workflow.md` –≤ PSEUDOCODE.

–¢–µ–ø–µ—Ä—å —è –ø—Ä–∏—Å—Ç—É–ø–∞—é –∫ `custom_modes/van_instructions.md`. –Ø –ø—Ä–æ—á–∏—Ç–∞—é –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ —á–∞—Å—Ç–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤ PSEUDOCODE, —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏–≤—à–∏—Å—å –Ω–∞ "–ò–°–ü–û–õ–ù–Ø–ï–ú–´–ï –®–ê–ì–ò" –∏ "UNIFIED COMMAND PROCESSING FLOW". –ó–∞—Ç–µ–º —è —Å–æ–∑–¥–∞–º `custom_modes/van_instructions.pse` —Å –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º.


---

```diff
- 
+ PSEUDOCODE\n\n// UNIFIED VAN MODE SYSTEM - MAIN ENTRY POINT\n\n// I am an AI assistant implementing a structured Memory Bank system.\n// Before starting, I will check if an active task is selected. If not, I will help you select or create a new one.\n\n// --- VAN EXECUTION LOGIC ---\n\n// Step 1: Initialization and active task check\nCALL PSEUDOCODE.System.CALL_FUNCTION(function_name: \"initialize_system_date\")\nDECLARE active_task_path = CALL PSEUDOCODE.System.GET_ACTIVE_TASK_PATH()\n\nIF PSEUDOCODE.List.IS_NOT_EMPTY(value: active_task_path) THEN\n  // If active_task_path is not empty, proceed to Step 3 (Standard VAN flow).\n  CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"‚úÖ Active task detected. Proceeding with standard VAN flow.\")\n  CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: \"start_standard_van_flow\")\nELSE\n  // If active_task_path is empty, proceed to Step 2 (Task selection process).\n  CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"üî¥ No active task detected. Initiating task selection process.\")\n  CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: \"handle_no_active_task_for_van\")\nEND IF\n\n// --- HELPER FUNCTIONS ---\n\n// Function to handle task selection when no task is active (for VAN mode)\nCALL PSEUDOCODE.System.DEFINE_FUNCTION(name: \"handle_no_active_task_for_van\", parameters: [], body: () => {\n  CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"No active task selected. Please choose a task to work on or create a new one.\")\n\n  // Display available tasks (placeholder for actual file listing)\n  CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"--- TODO ---\")\n  // CALL PSEUDOCODE.File.LIST_FILES_BY_PATTERN(directory: \"memory-bank/tasks/todo/\", pattern: \"*\")\n  CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"--- IN PROGRESS ---\")\n  // CALL PSEUDOCODE.File.LIST_FILES_BY_PATTERN(directory: \"memory-bank/tasks/in_progress/\", pattern: \"*\")\n\n  DECLARE user_choice = CALL PSEUDOCODE.System.PROMPT_USER(question: \"Please enter the name of the task directory to activate, or type `NEW` to create a new task.\")\n\n  IF PSEUDOCODE.String.TO_LOWER_CASE(text: user_choice) IS_EQUAL \"new\" THEN\n    // Placeholder for creating new task logic (from Core/task-management-2-0.mdc)\n    CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"Creating a new task...\")\n    // CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: \"create_new_task_logic\")\n  ELSE\n    DECLARE task_directory_name = user_choice\n    // Simplified: assuming task is in_progress for activation\n    DECLARE task_full_path = PSEUDOCODE.String.CONCATENATE_STRINGS(\"memory-bank/tasks/in_progress/\", task_directory_name)\n    // CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: \"set_active_task\", task_path: task_full_path)\n    CALL PSEUDOCODE.System.LOG_MESSAGE(message: PSEUDOCODE.String.CONCATENATE_STRINGS(\"Attempting to set active task: \", task_full_path))\n  END IF\n\n  // After task selection/creation, proceed with the main VAN flow\n  CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: \"start_standard_van_flow\")\n})\n\n// Step 3: Standard VAN-flow\nCALL PSEUDOCODE.System.DEFINE_FUNCTION(name: \"start_standard_van_flow\", parameters: [], body: () => {\n  CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"‚úÖ Starting standard VAN flow.\")\n  // Fetch core VAN rules\n  CALL PSEUDOCODE.Rule.FETCH_RULES(rule_path: \"isolation_rules/visual-maps/van_mode_split/van-mode-map\")\n  // Additional VAN specific rule loading\n  CALL PSEUDOCODE.Rule.FETCH_RULES(rule_path: \"isolation_rules/Core/complexity-decision-tree\")\n  CALL PSEUDOCODE.Rule.FETCH_RULES(rule_path: \"isolation_rules/Core/file-verification\")\n  CALL PSEUDOCODE.Rule.FETCH_RULES(rule_path: \"isolation_rules/Core/web-search-integration\")\n  CALL PSEUDOCODE.Rule.FETCH_RULES(rule_path: \"isolation_rules/Core/optimization-integration\")\n  CALL PSEUDOCODE.Rule.FETCH_RULES(rule_path: \"isolation_rules/Core/platform-awareness\")\n  CALL PSEUDOCODE.Rule.FETCH_RULES(rule_path: \"isolation_rules/CustomWorkflow/debugging/systematic-debugging\")\n\n  // Execute VAN process (placeholder for actual execution)\n  CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"Executing core VAN analysis and migration process.\")\n  CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: \"van_mode_start_task_continuity_check\") // Call the core workflow\n\n  // Further VAN logic as per van_core_workflow.md\n  // This would include Git checks, complexity determination, and full migration.\n\n  CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"VAN flow completed. Ready for next steps.\")\n})\n\n// --- UNIFIED COMMAND PROCESSING FLOW ---\n\n// When user sends any VAN command, I will:\nCALL PSEUDOCODE.System.DEFINE_FUNCTION(name: \"process_unified_van_command\", parameters: [\"user_command_text\"], body: () => {\n  // 1. Immediate Response\n  CALL PSEUDOCODE.System.LOG_MESSAGE(message: PSEUDOCODE.String.CONCATENATE_STRINGS(\"OK \", PSEUDOCODE.System.GET_ACTIVE_TASK_NAME()))\n\n  // 2. Version User Request (from Core/request-versioning-system.mdc)\n  CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"Versioning user request for context traceability.\")\n  DECLARE context_file = CALL PSEUDOCODE.File.GET_ACTIVE_CONTEXT_PATH() // Assuming a function for this from task_artifact_manager\n  DECLARE context_content = CALL PSEUDOCODE.File.READ(path: context_file)\n\n  DECLARE last_request_text = CALL PSEUDOCODE.File.EXTRACT_SECTION_CONTENT(file_content: context_content, section_name: \"LATEST_REQUEST\")\n  DECLARE timestamp = CALL PSEUDOCODE.DateTime.GET_FORMATTED_DATE_TIME(format: \"%Y-%m-%d %H:%M:%S\")\n  DECLARE history_entry = PSEUDOCODE.String.FORMAT(string: \"- **v1.X ({timestamp}):**\\\\n  \\`\\`\\`\\\\n  {last_request_text}\\\\n  \\`\\`\\`\", timestamp: timestamp, last_request_text: last_request_text)\n\n  DECLARE updated_content = CALL PSEUDOCODE.File.REPLACE_SECTION(file_content: context_content, section_name: \"LATEST_REQUEST\", new_content: PSEUDOCODE.System.GET_VARIABLE(name: \"user_command_text\"))\n  DECLARE final_context_content = CALL PSEUDOCODE.File.PREPEND_TO_SECTION(file_content: updated_content, section_name: \"REQUEST_HISTORY\", content_to_prepend: history_entry)\n\n  CALL PSEUDOCODE.File.WRITE_TO_FILE(path: context_file, content: final_context_content)\n  CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"Context updated with new request and history.\")\n\n  // 3. Memory Bank 2.0.0 Initialization (from Core/memory-bank-2-task-management.mdc & van-mode-auto-migration.mdc)\n  CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"Ensuring Memory Bank 2.0.0 structure and performing auto-migration.\")\n  CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: \"ensure_memory_bank_structure\") // From van-mode-auto-migration.mdc\n  CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: \"van_mode_startup\") // From van-mode-auto-migration.mdc, handles migration\n\n  // 4. Context Management (ALWAYS save current user request and context)\n  CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"Saving current user request and VAN mode context (detailed).\")\n  DECLARE current_date = CALL PSEUDOCODE.DateTime.GET_CURRENT_DATE()\n  DECLARE current_user_request = PSEUDOCODE.System.GET_VARIABLE(name: \"user_command_text\")\n  DECLARE active_task_description = \"[BRIEF_TASK_DESCRIPTION]\" // Placeholder\n  DECLARE active_task_priority = \"[HIGH|MEDIUM|LOW]\" // Placeholder\n  DECLARE active_task_status = \"IN_PROGRESS\" // Placeholder\n  DECLARE detailed_task_context = \"[DETAILED_TASK_CONTEXT]\" // Placeholder\n  DECLARE van_phase = \"Problem Analysis\" // Placeholder for actual VAN phase\n  DECLARE complexity_level = \"[TO_BE_DETERMINED]\" // Placeholder\n\n  DECLARE current_context_content = PSEUDOCODE.String.MULTILINE_STRING(\n    `# CURRENT CONTEXT STATE\n\n**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: ${current_date}\n**–°—Ç–∞—Ç—É—Å**: ACTIVE\n\n## üéØ –¢–ï–ö–£–©–ò–ô –ó–ê–ü–†–û–° –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø\n\`\`\`\n${current_user_request}\n\`\`\`\n\n## üîß –¢–ï–ö–£–©–ò–ô –†–ï–ñ–ò–ú –†–ê–ë–û–¢–´\n**–ê–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º**: VAN\n**–§–∞–∑–∞**: ${van_phase}\n**–£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏**: ${complexity_level}\n\n## üìã –ö–û–ù–¢–ï–ö–°–¢ –ó–ê–î–ê–ß–ò\n**–ó–∞–¥–∞—á–∞**: ${active_task_description}\n**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: ${active_task_priority}\n**–°—Ç–∞—Ç—É—Å**: ${active_task_status}\n\n### –û–ø–∏—Å–∞–Ω–∏–µ:\n${detailed_task_context}\n\n### –¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:\n- [x] –ó–∞–ø—Ä–æ—Å –ø–æ–ª—É—á–µ–Ω –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω\n- [ ] –ê–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏\n- [ ] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–µ–∂–∏–º–∞\n- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ tasks.md\n\n## üóÇÔ∏è –§–ê–ô–õ–´ –í –†–ê–ë–û–¢–ï\n- memory-bank/system/current-context.md\n- memory-bank/tasks.md\n\n## üìä –ú–ï–¢–†–ò–ö–ò –°–ï–°–°–ò–ò\n**–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞**: ${current_date}\n**–ö–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–æ**: 0\n**–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ**: 1\n**–°—Ç–∞—Ç—É—Å —Å–µ—Å—Å–∏–∏**: ACTIVE`\n  )\n  CALL PSEUDOCODE.File.WRITE_TO_FILE(path: \"memory-bank/system/current-context.md\", content: current_context_content)\n\n  // 5. Command Routing (VAN -> Standard VAN with task continuity)\n  CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"Routing command to standard VAN workflow.\")\n  CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: \"start_standard_van_flow\")\n\n  // 6. Execute Process (handled by start_standard_van_flow)\n\n  // 7. Update Memory Bank (handled within VAN flow and rule updates)\n\n  // 8. Verification (handled within VAN flow and rule updates)\n})\n
```

---



---

–Ø —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–≤–µ–ª `van_instructions.md` –≤ PSEUDOCODE –∏ —Å–æ—Ö—Ä–∞–Ω–∏–ª –µ–≥–æ –∫–∞–∫ `custom_modes/van_instructions.pse`.

–¢–µ–ø–µ—Ä—å, –¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏–º —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `custom_modes/`. –Ø –ø—Ä–æ—Å–º–æ—Ç—Ä—é –∏—Ö, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–æ–π –∏–∑ –Ω–∏—Ö –ª—É—á—à–µ –≤—Å–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞ –≤ PSEUDOCODE. –°–ª–µ–¥—É—é—â–∏–º —Ñ–∞–π–ª–æ–º, –∫–æ—Ç–æ—Ä—ã–π —è –ø–µ—Ä–µ–≤–µ–¥—É, –±—É–¥–µ—Ç `step_by_step_instructions.md`, —Ç–∞–∫ –∫–∞–∫ –æ–Ω, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ—à–∞–≥–æ–≤—É—é –ª–æ–≥–∏–∫—É, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞—Ç—å –≤ PSEUDOCODE.

–°–Ω–∞—á–∞–ª–∞ —è –ø—Ä–æ—á–∏—Ç–∞—é —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `step_by_step_instructions.md`.


---

Read file: custom_modes/step_by_step_instructions.md

---



---

–Ø –ø–æ–Ω—è–ª. –Ø –ø–µ—Ä–µ–≤–µ–¥—É –ª–æ–≥–∏–∫—É –∏–∑ —Ñ–∞–π–ª–∞ `custom_modes/step_by_step_instructions.md` –≤ PSEUDOCODE –∏ —Å–æ—Ö—Ä–∞–Ω—é –µ–µ –∫–∞–∫ `custom_modes/step_by_step_instructions.pse`. –Ø —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á—É—Å—å –Ω–∞ –ø–µ—Ä–µ–≤–æ–¥–µ —Ä–∞–∑–¥–µ–ª–∞ "–ò–°–ü–û–õ–ù–Ø–ï–ú–´–ô –ê–õ–ì–û–†–ò–¢–ú".

–í–æ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞, –∫–æ—Ç–æ—Ä–æ–µ —è —Å–µ–π—á–∞—Å —Å–æ–∑–¥–∞–º:


---

```diff
- 
+ PSEUDOCODE\n\n// MEMORY BANK STEP_BY_STEP MODE (STATEFUL CONTROLLER)\n\n// I am a step-by-step execution dispatcher. Before starting, I will check if an active task is selected.\n// If not, I will help you select or create one. Only then will we begin the step-by-step cycle.\n\n// --- STEP_BY_STEP EXECUTION LOGIC ---\n\n// Executable Algorithm: On each call of `STEP_BY_STEP` or `NEXT` command, I will execute the following algorithm:\nCALL PSEUDOCODE.System.DEFINE_FUNCTION(name: \"execute_step_by_step_workflow\", parameters: [], body: () => {\n\n  // Step 1: Initialization and pre-flight check\n  CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: \"initialize_system_date\") // from Core/datetime-manager.mdc\n  DECLARE active_task_path = CALL PSEUDOCODE.Directory.GET_ACTIVE_TASK_PATH() // from Core/active-task-manager.mdc\n\n  IF PSEUDOCODE.List.IS_NOT_EMPTY(value: active_task_path) THEN\n    // If active_task_path is not empty, immediately proceed to Step 3.\n    CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"‚úÖ Active task detected. Proceeding with standard step-by-step cycle.\")\n    CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: \"start_standard_step_by_step_cycle\")\n  ELSE\n    // If active_task_path is empty, proceed to Step 2.\n    CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"üî¥ No active task detected. Initiating task selection process.\")\n    CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: \"handle_no_active_task_for_step_by_step\")\n  END IF\n})
+ 
+ // --- HELPER FUNCTIONS ---
+ 
+ // Function to handle task selection when no task is active (for STEP_BY_STEP mode)\nCALL PSEUDOCODE.System.DEFINE_FUNCTION(name: \"handle_no_active_task_for_step_by_step\", parameters: [], body: () => {\n  CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"No active task selected. Please choose a task to work on or create a new one.\")\n\n  // Display available tasks (placeholder for actual file listing)\n  CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"--- TODO ---\")\n  // CALL PSEUDOCODE.File.LIST_FILES_BY_PATTERN(directory: \"memory-bank/tasks/todo/\", pattern: \"*\")\n  CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"--- IN PROGRESS ---\")\n  // CALL PSEUDOCODE.File.LIST_FILES_BY_PATTERN(directory: \"memory-bank/tasks/in_progress/\", pattern: \"*\")\n\n  DECLARE user_choice = CALL PSEUDOCODE.System.PROMPT_USER(question: \"Please enter the name of the task directory to activate, or type `NEW` to create a new task.\")\n\n  IF PSEUDOCODE.String.TO_LOWER_CASE(text: user_choice) IS_EQUAL \"new\" THEN\n    // Placeholder for creating new task logic (from Core/task-management-2-0.mdc)\n    CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"Creating a new task...\")\n    // CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: \"create_new_task_logic\")\n  ELSE\n    DECLARE task_directory_name = user_choice\n    // Simplified: assuming task is in_progress for activation\n    DECLARE task_full_path = PSEUDOCODE.String.CONCATENATE_STRINGS(\"memory-bank/tasks/in_progress/\", task_directory_name)\n    // CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: \"set_active_task\", task_path: task_full_path)\n    CALL PSEUDOCODE.System.LOG_MESSAGE(message: PSEUDOCODE.String.CONCATENATE_STRINGS(\"Attempting to set active task: \", task_full_path))\n  END IF\n\n  // After successful selection or creation, proceed to Step 3.\n  CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: \"start_standard_step_by_step_cycle\")\n})
+ 
+ // Step 3: Standard step-by-step cycle (if a task is active)\nCALL PSEUDOCODE.System.DEFINE_FUNCTION(name: \"start_standard_step_by_step_cycle\", parameters: [], body: () => {\n  // 0. Date Initialization (already done in Step 1, but repeated as per original for clarity)\n  CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: \"initialize_system_date\") // Call function from Core/datetime-manager.mdc\n\n  // 1. Determine current state\n  DECLARE state_file = \"memory-bank/system/workflow-state.txt\"\n  DECLARE current_state = PSEUDOCODE.File.READ_FILE(path: state_file) // Read content, assumes file exists from prior rules\n  IF PSEUDOCODE.List.IS_NOT_EMPTY(value: current_state) THEN\n    SET current_state = PSEUDOCODE.String.TRIM_STRING(string: current_state)\n  ELSE\n    SET current_state = \"START\"\n  END IF\n  CALL PSEUDOCODE.System.LOG_MESSAGE(message: PSEUDOCODE.String.CONCATENATE_STRINGS(\"‚ÑπÔ∏è Current state: \", current_state))\n\n  // 2. Execute the next phase based on the current state\n  IF PSEUDOCODE.String.IS_EQUAL(value1: current_state, value2: \"START\") OR PSEUDOCODE.String.IS_EQUAL(value1: current_state, value2: \"ARCHIVE_COMPLETE\") THEN\n    CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"--- üöÄ Launching VAN Phase ---\")\n    CALL PSEUDOCODE.Rule.FETCH_RULES(rule_path: \"isolation_rules/visual-maps/van_mode_split/van-mode-map.mdc\")\n    // ... (Here AI will execute logic from the VAN map) ...\n    CALL PSEUDOCODE.File.WRITE_TO_FILE(path: state_file, content: \"VAN_COMPLETE\")\n    CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"‚úÖ VAN Phase Complete. Type `NEXT` to proceed to the PLAN phase.\")\n  ELSE IF PSEUDOCODE.String.IS_EQUAL(value1: current_state, value2: \"VAN_COMPLETE\") THEN\n    CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"--- üìã Launching PLAN Phase ---\")\n    CALL PSEUDOCODE.Rule.FETCH_RULES(rule_path: \"isolation_rules/visual-maps/plan-mode-map.mdc\")\n    // ... (Here AI will execute logic from the PLAN map) ...\n    CALL PSEUDOCODE.File.WRITE_TO_FILE(path: state_file, content: \"PLAN_COMPLETE\")\n    CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"‚úÖ PLAN Phase Complete. Type `NEXT` to proceed to the CREATIVE phase.\")\n  ELSE IF PSEUDOCODE.String.IS_EQUAL(value1: current_state, value2: \"PLAN_COMPLETE\") THEN\n    CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"--- üé® Launching CREATIVE Phase ---\")\n    CALL PSEUDOCODE.Rule.FETCH_RULES(rule_path: \"isolation_rules/visual-maps/creative-mode-map.mdc\")\n    // ... (Here AI will execute logic from the CREATIVE map) ...\n    CALL PSEUDOCODE.File.WRITE_TO_FILE(path: state_file, content: \"CREATIVE_COMPLETE\")\n    CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"‚úÖ CREATIVE Phase Complete. Type `NEXT` to proceed to the IMPLEMENT phase.\")\n  ELSE IF PSEUDOCODE.String.IS_EQUAL(value1: current_state, value2: \"CREATIVE_COMPLETE\") THEN\n    CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"--- ‚öôÔ∏è Launching IMPLEMENT Phase ---\")\n    CALL PSEUDOCODE.Rule.FETCH_RULES(rule_path: \"isolation_rules/visual-maps/implement-mode-map.mdc\")\n    // MANDATORY: Apply Proactive Invariant Validation (from _cursor/rules/isolation_rules/CustomWorkflow/debugging/invariant-validation.mdc)\n    // MANDATORY: If tests fail or bugs are discovered, initiate Reactive Debugging (from _cursor/rules/isolation_rules/CustomWorkflow/debugging/systematic-debugging.mdc, using detailed-logging.mdc for best practices)\n    // ... (Here AI will execute logic from the IMPLEMENT map) ...\n    CALL PSEUDOCODE.File.WRITE_TO_FILE(path: state_file, content: \"IMPLEMENT_COMPLETE\")\n    CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"‚úÖ IMPLEMENT Phase Complete. Type `NEXT` to proceed to the QA phase.\")\n  ELSE IF PSEUDOCODE.String.IS_EQUAL(value1: current_state, value2: \"IMPLEMENT_COMPLETE\") THEN\n    CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"--- üß™ Launching QA Phase ---\")\n    CALL PSEUDOCODE.Rule.FETCH_RULES(rule_path: \"isolation_rules/visual-maps/qa-mode-map.mdc\")\n    // MANDATORY: Apply Proactive Invariant Validation (from _cursor/rules/isolation_rules/CustomWorkflow/debugging/invariant-validation.mdc)\n    // MANDATORY: If tests fail or bugs are discovered, initiate Reactive Debugging (from _cursor/rules/isolation_rules/CustomWorkflow/debugging/systematic-debugging.mdc, using detailed-logging.mdc for best practices)\n    // ... (Here AI will execute logic from the QA map) ...\n    CALL PSEUDOCODE.File.WRITE_TO_FILE(path: state_file, content: \"QA_COMPLETE\")\n    CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"‚úÖ QA Phase Complete. Type `NEXT` to proceed to the REFLECT phase.\")\n  ELSE IF PSEUDOCODE.String.IS_EQUAL(value1: current_state, value2: \"QA_COMPLETE\") THEN\n    CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"--- ü§î Launching REFLECT Phase ---\")\n    CALL PSEUDOCODE.Rule.FETCH_RULES(rule_path: \"isolation_rules/visual-maps/reflect-mode-map.mdc\")\n    // MANDATORY: If issues are identified during reflection (e.g., recurring bugs, unexpected failures), initiate Reactive Debugging (from _cursor/rules/isolation_rules/CustomWorkflow/debugging/systematic-debugging.mdc, using detailed-logging.mdc for best practices)\n    // ... (Here AI will execute logic from the REFLECT map) ...\n    CALL PSEUDOCODE.File.WRITE_TO_FILE(path: state_file, content: \"REFLECT_COMPLETE\")\n    CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"‚úÖ REFLECT Phase Complete. Type `NEXT` to proceed to the ARCHIVE phase.\")\n  ELSE IF PSEUDOCODE.String.IS_EQUAL(value1: current_state, value2: \"REFLECT_COMPLETE\") THEN\n    CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"--- üì¶ Launching ARCHIVE Phase ---\")\n    CALL PSEUDOCODE.Rule.FETCH_RULES(rule_path: \"isolation_rules/visual-maps/archive-mode-map.mdc\")\n    // ... (Here AI will execute logic from the ARCHIVE map) ...\n    CALL PSEUDOCODE.File.WRITE_TO_FILE(path: state_file, content: \"ARCHIVE_COMPLETE\")\n    CALL PSEUDOCODE.System.LOG_MESSAGE(message: \"üéâ Full development cycle completed! You can start a new project by running STEP_BY_STEP again.\")\n  ELSE\n    CALL PSEUDOCODE.System.LOG_WARNING(message: PSEUDOCODE.String.CONCATENATE_STRINGS(\"‚ö†Ô∏è Unknown state '\", current_state, \''. Resetting to START.\"))\n    CALL PSEUDOCODE.File.WRITE_TO_FILE(path: state_file, content: \"START\")\n    // Recursive call or re-initiation to execute VAN
+     CALL PSEUDOCODE.System.CALL_FUNCTION(function_name: \"start_standard_step_by_step_cycle\")\n  END IF\n})
```

---



---

–Ø –ø–æ–Ω—è–ª. –í—ã —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–≤–µ–ª–∏ `universal_instructions.md`, `van_core_workflow.md`, `van_instructions.md` –∏ `step_by_step_instructions.md` –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã `.pse` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `custom_modes/`.

–ú–æ–≥—É –ª–∏ —è –µ—â–µ —á–µ–º-—Ç–æ –ø–æ–º–æ—á—å —Å —ç—Ç–æ–π –∑–∞–¥–∞—á–µ–π –∏–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å?

---
*Response generated using gemini-2.5-flash-preview-05-20*

---

_**User**_

–¥–∞–≤–∞–π –¥–æ–±–∞–≤–∏–º –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —ç—Ç–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ –≤ —Ñ–∞–π–ª—ã custom_modes

---

_**Assistant**_



---

–í—ã —Ö–æ—Ç–∏—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–¥–∞–≤–Ω–æ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–µ `.pse` —Å–∫—Ä–∏–ø—Ç—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã `custom_modes`. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º–Ω–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã `.md`, —á—Ç–æ–±—ã –æ–Ω–∏ —Å—Å—ã–ª–∞–ª–∏—Å—å –Ω–∞ –Ω–æ–≤—ã–µ `.pse` —Ñ–∞–π–ª—ã –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –∏—Ö –ª–æ–≥–∏–∫—É.

–Ø –Ω–∞—á–Ω—É —Å `custom_modes/universal_instructions.md`. –Ø –ø—Ä–æ—á–∏—Ç–∞—é –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –ª—É—á—à–µ –≤—Å–µ–≥–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å `universal_workflow.pse`.



---

Read file: custom_modes/universal_instructions.md

---



---

–•–æ—Ä–æ—à–æ, —è –ø–æ–Ω—è–ª. –ß—Ç–æ–±—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–¥–∞–≤–Ω–æ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–µ `.pse` —Å–∫—Ä–∏–ø—Ç—ã, —è –æ–±–Ω–æ–≤–ª—é –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã `.md` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `custom_modes/`, —á—Ç–æ–±—ã –æ–Ω–∏ —Å—Å—ã–ª–∞–ª–∏—Å—å –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ `.pse` —Ñ–∞–π–ª—ã. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –æ—Ç–¥–µ–ª–∏—Ç—å –ª–æ–≥–∏–∫—É –æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å.

–Ø –Ω–∞—á–Ω—É —Å `custom_modes/universal_instructions.md`. –Ø –∏–∑–º–µ–Ω—é —ç—Ç–æ—Ç —Ñ–∞–π–ª, —á—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—Ö–µ–º—ã –∏ –ø—Å–µ–≤–¥–æ–∫–æ–¥, –∑–∞–º–µ–Ω–∏–≤ –∏—Ö —Å—Å—ã–ª–∫–æ–π –Ω–∞ `custom_modes/universal_workflow.pse`, –∫–æ—Ç–æ—Ä—ã–π —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –ª–æ–≥–∏–∫—É.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—é `custom_modes/van_core_workflow.md`, `custom_modes/van_instructions.md` –∏ `custom_modes/step_by_step_instructions.md`.

–°–Ω–∞—á–∞–ª–∞ —è –ø—Ä–æ—á–∏—Ç–∞—é –≤—Å–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `custom_modes/universal_instructions.md` –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.


---

Read file: custom_modes/universal_instructions.md

---



---

–•–æ—Ä–æ—à–æ, —è –æ–±–Ω–æ–≤–ª—é —Ñ–∞–π–ª `custom_modes/universal_instructions.md`, —á—Ç–æ–±—ã –æ–Ω —Å—Å—ã–ª–∞–ª—Å—è –Ω–∞ –Ω–µ–¥–∞–≤–Ω–æ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π `custom_modes/universal_workflow.pse`. –Ø —É–¥–∞–ª—é —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –∏ —à–∞–≥–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –∑–∞–º–µ–Ω–∏–≤ –∏—Ö –ø—Ä–æ—Å—Ç—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º, —É–∫–∞–∑—ã–≤–∞—é—â–∏–º –Ω–∞ –≤–Ω–µ—à–Ω–∏–π —Ñ–∞–π–ª –ø—Å–µ–≤–¥–æ–∫–æ–¥–∞.

–°–Ω–∞—á–∞–ª–∞ —è –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—á–∏—Ç–∞—é `custom_modes/universal_instructions.md`, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —É –º–µ–Ω—è –µ—Å—Ç—å –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.


---

Read file: custom_modes/universal_instructions.md

---



---

–Ø –ø–æ–Ω—è–ª. –ß—Ç–æ–±—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–¥–∞–≤–Ω–æ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–µ `.pse` —Å–∫—Ä–∏–ø—Ç—ã, —è –∏–∑–º–µ–Ω—é –∏—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã `.md` –≤ `custom_modes/` —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–∏ —Å—Å—ã–ª–∞–ª–∏—Å—å –Ω–∞ –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã `.pse` –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –∏—Ö –ª–æ–≥–∏–∫—É.

–Ø –Ω–∞—á–Ω—É —Å `custom_modes/universal_instructions.md`. –Ø —É–¥–∞–ª—é –∏–∑ –Ω–µ–≥–æ –≤—Å–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –∏ –ø–æ–¥—Ä–æ–±–Ω—ã–µ —à–∞–≥–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –∑–∞–º–µ–Ω–∏–≤ –∏—Ö —Å—Å—ã–ª–∫–æ–π –Ω–∞ `custom_modes/universal_workflow.pse`. –≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç —Ñ–∞–π–ª –±–æ–ª–µ–µ —á–∏—Å—Ç—ã–º –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏.

–î–∞–ª–µ–µ —è –ø–æ–≤—Ç–æ—Ä—é –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è `custom_modes/van_core_workflow.md`, `custom_modes/van_instructions.md` –∏ `custom_modes/step_by_step_instructions.md`, –æ–±–Ω–æ–≤–ª—è—è –∏—Ö –¥–ª—è —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã `.pse`.

–î–ª—è –Ω–∞—á–∞–ª–∞ —è –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—á–∏—Ç–∞—é —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `custom_modes/universal_instructions.md`, —á—Ç–æ–±—ã —É –º–µ–Ω—è –±—ã–ª –≤–µ—Å—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.



---

Read file: custom_modes/universal_instructions.md

---



---

–í—ã —Ö–æ—Ç–∏—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–¥–∞–≤–Ω–æ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–µ `.pse` —Å–∫—Ä–∏–ø—Ç—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã `custom_modes`. –≠—Ç–æ –æ—Ç–ª–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

–Ø –Ω–∞—á–Ω—É —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è `custom_modes/universal_instructions.md`. –Ø —É–¥–∞–ª—é –∏–∑ –Ω–µ–≥–æ –≤—Å–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã Mermaid –∏ –ø–æ–¥—Ä–æ–±–Ω—ã–µ —à–∞–≥–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ —è –¥–æ–±–∞–≤–ª—é —Å—Å—ã–ª–∫—É, —É–∫–∞–∑—ã–≤–∞—é—â—É—é –Ω–∞ `custom_modes/universal_workflow.pse`, –≥–¥–µ —Ç–µ–ø–µ—Ä—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —è –ø—Ä–∏–º–µ–Ω—é –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ `custom_modes/van_core_workflow.md`, `custom_modes/van_instructions.md` –∏ `custom_modes/step_by_step_instructions.md`, –æ–±–Ω–æ–≤–∏–≤ –∏—Ö –¥–ª—è —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ `.pse` —Ñ–∞–π–ª—ã.

–î–ª—è –Ω–∞—á–∞–ª–∞, —è –µ—â–µ —Ä–∞–∑ –ø—Ä–æ—á–∏—Ç–∞—é –≤—Å–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `custom_modes/universal_instructions.md`, —á—Ç–æ–±—ã —É –º–µ–Ω—è –±—ã–ª –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –≤–Ω–µ—Å–µ–Ω–∏—è —Ç–æ—á–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.


---

Read file: custom_modes/universal_instructions.md

---



---

–Ø –ø–æ–Ω—è–ª. –í—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —è –æ–±–Ω–æ–≤–∏–ª —Ñ–∞–π–ª—ã –≤ `custom_modes/`, —á—Ç–æ–±—ã –æ–Ω–∏ —Å—Å—ã–ª–∞–ª–∏—Å—å –Ω–∞ –Ω–µ–¥–∞–≤–Ω–æ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–µ `.pse` —Å–∫—Ä–∏–ø—Ç—ã. –Ø –Ω–∞—á–Ω—É —Å `custom_modes/universal_instructions.md`.

–Ø —Å–æ–±–∏—Ä–∞—é—Å—å –∑–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –∏ —à–∞–≥–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ `custom_modes/universal_instructions.md` –Ω–∞ –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª –ø—Å–µ–≤–¥–æ–∫–æ–¥–∞: `custom_modes/universal_workflow.pse`.

–ü–æ—Å–∫–æ–ª—å–∫—É —è –Ω–µ –º–æ–≥—É –ø—Ä–æ—á–∏—Ç–∞—Ç—å –≤–µ—Å—å —Ñ–∞–π–ª –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑, —è –±—É–¥—É –¥–µ–ª–∞—Ç—å —ç—Ç–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–∑–≤–µ—Å—Ç–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –Ø —É–¥–∞–ª—é –≤–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –ª–æ–≥–∏–∫–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ —à–∞–≥–∞–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –∏ –∑–∞–º–µ–Ω—é –µ–≥–æ –Ω–æ–≤–æ–π —Å—Å—ã–ª–∫–æ–π.



---

```diff
  > **TL;DR:** –≠—Ç–æ—Ç —Ä–µ–∂–∏–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —è –ø—Ä–æ–≤–µ—Ä—é, –≤—ã–±—Ä–∞–Ω–∞ –ª–∏ –∞–∫—Ç–∏–≤–Ω–∞—è –∑–∞–¥–∞—á–∞. –ï—Å–ª–∏ –Ω–µ—Ç, —è –ø–æ–º–æ–≥—É –≤–∞–º –µ–µ –≤—ã–±—Ä–∞—Ç—å –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å.
  
- ## üö∂ –õ–û–ì–ò–ö–ê –í–´–ü–û–õ–ù–ï–ù–ò–Ø UNIVERSAL
- 
- ```mermaid
- graph TD
-     Start["‚ñ∂Ô∏è `UNIVERSAL`"] --> InitDate["1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞—Ç—É"]
-     InitDate --> GetActiveTask["2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é –∑–∞–¥–∞—á—É"]
- 
-     GetActiveTask --> IsTaskActive{"–ó–∞–¥–∞—á–∞ –∞–∫—Ç–∏–≤–Ω–∞?"}
- 
-     IsTaskActive -- "–î–∞" --> UNIVERSAL_Flow["‚úÖ **–ù–∞—á–∞—Ç—å –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ü–∏–∫–ª**<br>VAN -> PLAN -> ... -> ARCHIVE"]
- 
-     IsTaskActive -- "–ù–µ—Ç üî¥" --> NoTaskFlow["3. <b>–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –∑–∞–¥–∞—á–∏!</b><br>–ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–≥–∏–∫—É SWITCH TASK"]
-     NoTaskFlow --> ListTasks["–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á"]
-     ListTasks --> UserPrompt["–ó–∞–ø—Ä–æ—Å–∏—Ç—å –≤—ã–±–æ—Ä –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ"]
-     UserPrompt --> UserChoice{"–ß—Ç–æ –≤—ã–±—Ä–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å?"}
- 
-     UserChoice -- "–í—ã–±—Ä–∞–ª —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é" --> SetTask["–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é –∑–∞–¥–∞—á—É"]
-     UserChoice -- "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é" --> CreateTask["–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É"]
- 
-     SetTask --> UNIVERSAL_Flow
-     CreateTask --> UNIVERSAL_Flow
- 
-     style NoTaskFlow fill:#ffad42,stroke:#f57c00
- ```
- 
- ### üõ†Ô∏è –ò–°–ü–û–õ–ù–Ø–ï–ú–´–ï –®–ê–ì–ò
- 
- #### –®–∞–≥ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–π –∑–∞–¥–∞—á–∏
- - `initialize_system_date()`
- - `active_task_path=$(get_active_task_path)`
- - –ï—Å–ª–∏ `$active_task_path` **–Ω–µ –ø—É—Å—Ç**, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ **–®–∞–≥—É 3**.
- - –ï—Å–ª–∏ `$active_task_path` **–ø—É—Å—Ç**, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ **–®–∞–≥—É 2**.
- 
- #### –®–∞–≥ 2: –ü—Ä–æ—Ü–µ—Å—Å –≤—ã–±–æ—Ä–∞ –∑–∞–¥–∞—á–∏ (–µ—Å–ª–∏ –Ω–∏ –æ–¥–Ω–∞ –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞)
- 1.  **–°–æ–æ–±—â–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:** "No active task selected. Please choose a task to work on or create a new one."
- 2.  **–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–∫–∏ –∑–∞–¥–∞—á:**
-     ```bash
-     run_terminal_cmd({
-       command: "echo '--- TODO ---' && ls -1 memory-bank/tasks/todo/ && echo '--- IN PROGRESS ---' && ls -1 memory-bank/tasks/in_progress/",
-       explanation: "Displaying available tasks."
-     })
-     ```
- 3.  **–ó–∞–ø—Ä–æ—Å–∏—Ç—å –≤—ã–±–æ—Ä:** "Please enter the name of the task directory to activate, or type `NEW` to create a new task."
- 4.  **–û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
-     -   –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–ª –∏–º—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –≤—ã–ø–æ–ª–Ω–∏—Ç—å `set_active_task("memory-bank/tasks/in_progress/[–∏–º—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏]")` (–∏–ª–∏ `todo`).
-     -   –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–ª `NEW`, –∑–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏ –∏–∑ –ø—Ä–∞–≤–∏–ª–∞ `Core/task-management-2-0.mdc`.
- 5.  **–ü–µ—Ä–µ–π—Ç–∏ –∫ –®–∞–≥—É 3.**
- 
- #### –®–∞–≥ 3: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π UNIVERSAL-–ø–æ—Ç–æ–∫
- - –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –∑–∞–¥–∞—á–∞ –≤—ã–±—Ä–∞–Ω–∞, –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–æ–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ü–∏–∫–ª, –∫–æ—Ç–æ—Ä—ã–π –º—ã —É–∂–µ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–ª–∏:
- - **VAN**: –ó–∞–≥—Ä—É–∑–∏—Ç—å `van-mode-map.mdc`...
- - **PLAN**: –ó–∞–≥—Ä—É–∑–∏—Ç—å `plan-mode-map.mdc`...
- - ... (–∏ —Ç–∞–∫ –¥–∞–ª–µ–µ)
- 
- ## üöÄ –ü–û–õ–ù–´–ô –ê–í–¢–û–ù–û–ú–ù–´–ô –¶–ò–ö–õ
- 
- ```mermaid
- graph TD
-     Start["‚ñ∂Ô∏è START UNIVERSAL"] --> SetDate["1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞—Ç—É<br>datetime-manager.mdc"]
-     SetDate --> CheckInteractionMode["2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å interaction-mode"]
-     CheckInteractionMode --> VAN["3. VAN Phase<br>–ê–Ω–∞–ª–∏–∑, —Å–ª–æ–∂–Ω–æ—Å—Ç—å, –º–∏–≥—Ä–∞—Ü–∏—è"]
- 
-     VAN --> PLAN["4. PLAN Phase<br>–î–µ—Ç–∞–ª—å–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"]
-     PLAN --> CreativeCheck{"–ö—Ä–µ–∞—Ç–∏–≤–Ω–∞—è —Ñ–∞–∑–∞<br>–Ω–µ–æ–±—Ö–æ–¥–∏–º–∞?"}
- 
-     CreativeCheck -- "–î–∞" --> CREATIVE["5. CREATIVE Phase<br>–î–∏–∑–∞–π–Ω –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞"]
-     CreativeCheck -- "–ù–µ—Ç" --> IMPLEMENT
- 
-     CREATIVE --> IMPLEMENT["6. IMPLEMENT Phase<br>–†–µ–∞–ª–∏–∑–∞—Ü–∏—è + –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è"]
-     IMPLEMENT --> QA["7. QA Phase<br>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ + –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫"]
-     QA --> REFLECT["8. REFLECT Phase<br>–†–µ—Ñ–ª–µ–∫—Å–∏—è + –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥"]
-     REFLECT --> ARCHIVE["9. ARCHIVE Phase<br>–ê—Ä—Ö–∏–≤–∞—Ü–∏—è"]
-     ARCHIVE --> Done["‚úÖ WORKFLOW COMPLETE"]
- 
-     style Done fill:#5fd94d,stroke:#3da336,color:white
- ```
- 
- ## üõ†Ô∏è –®–ê–ì–ò –í–´–ü–û–õ–ù–ï–ù–ò–Ø
- 
- ### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- - –í—ã–ø–æ–ª–Ω–∏—Ç—å `initialize_system_date()` –∏–∑ `Core/datetime-manager.mdc`.
- - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `interaction-mode.txt`. –ï—Å–ª–∏ `MANUAL`, –≤—ã–≤–µ—Å—Ç–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: "UNIVERSAL mode is running, but you are in MANUAL interaction mode. I will proceed autonomously. To switch, set interaction mode to AUTO."
- 
- ### 2. –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ —Ä–µ–∂–∏–º–æ–≤
- –Ø –±—É–¥—É –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ª–æ–≥–∏–∫—É –∏–∑ –∫–∞–∂–¥–æ–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∫–∞—Ä—Ç—ã –ø—Ä–æ—Ü–µ—Å—Å–∞ (`*-mode-map.mdc`), –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥—è –∫ —Å–ª–µ–¥—É—é—â–µ–π —Ñ–∞–∑–µ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–π.
- 
- - **VAN**: –ó–∞–≥—Ä—É–∑–∏—Ç—å `van-mode-map.mdc`, –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑, –≤–∫–ª—é—á–∞—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (L1-L4) –∏ –º–∏–≥—Ä–∞—Ü–∏—é –∑–∞–¥–∞—á.
- - **PLAN**: –ó–∞–≥—Ä—É–∑–∏—Ç—å `plan-mode-map.mdc`, —Å–æ–∑–¥–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω.
- - **CREATIVE (—É—Å–ª–æ–≤–Ω–æ)**: –ï—Å–ª–∏ –ø–ª–∞–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–∞–¥–∞—á–∏, —Ç—Ä–µ–±—É—é—â–∏–µ –∫—Ä–µ–∞—Ç–∏–≤–∞, –∑–∞–≥—Ä—É–∑–∏—Ç—å `creative-mode-map.mdc`.
- - **IMPLEMENT**: –ó–∞–≥—Ä—É–∑–∏—Ç—å `implement-mode-map.mdc`, –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é. **–í–∫–ª—é—á–∏—Ç—å –≤—ã–∑–æ–≤ `Integration Workflow` –¥–ª—è –∑–∞–¥–∞—á L3/L4.**
- - **QA**: –ó–∞–≥—Ä—É–∑–∏—Ç—å `qa-mode-map.mdc`, –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Å—Ç—ã. **–í–∫–ª—é—á–∏—Ç—å –≤—ã–∑–æ–≤ `Failure Pattern Analysis` –ø—Ä–∏ —Å–±–æ—è—Ö.**
- - **REFLECT**: –ó–∞–≥—Ä—É–∑–∏—Ç—å `reflect-mode-map.mdc`. **–í–∫–ª—é—á–∏—Ç—å –≤—ã–∑–æ–≤ `Refactoring Workflow` –∏ `Advanced Reporting` –¥–ª—è –∑–∞–¥–∞—á L3/L4.**
- - **ARCHIVE**: –ó–∞–≥—Ä—É–∑–∏—Ç—å `archive-mode-map.mdc`, –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ü–∏–∫–ª.
- 
- –Ø –±—É–¥—É –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –∫—Ä–∞—Ç–∫–∏–µ –æ—Ç—á–µ—Ç—ã –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º –∫ —Å–ª–µ–¥—É—é—â–µ–π.
- 
- ```mermaid
- graph TD
-     Start["üöÄ START UNIVERSAL MODE"] --> LoadCore["üìö Load Core Rules<br>.cursor/rules/isolation_rules/Core/universal-mode-integration.mdc"]
-     LoadCore --> LoadWebSearch["üåê Load Web Search<br>.cursor/rules/isolation_rules/Core/web-search-integration.mdc"]
-     LoadWebSearch --> InitVAN["üîç INITIALIZE VAN PHASE<br>Analysis & Problem Identification"]
- 
-     %% VAN Phase
-     InitVAN --> VANAnalysis["üìä VAN: Project Analysis"]
-     VANAnalysis --> VANComplexity["üß© VAN: Complexity Determination"]
-     VANComplexity --> VANMigration["üîÑ VAN: Migration Processing"]
-     VANMigration --> VANComplete["‚úÖ VAN Phase Complete"]
- 
-     %% Automatic Transition to PLAN
-     VANComplete --> AutoPLAN["‚ö° AUTO TRANSITION<br>VAN ‚Üí PLAN"]
-     AutoPLAN --> InitPLAN["üìã INITIALIZE PLAN PHASE<br>Implementation Planning"]
- 
-     %% PLAN Phase
-     InitPLAN --> PLANStrategy["üéØ PLAN: Strategy Development"]
-     PLANStrategy --> PLANComponents["üß© PLAN: Component Analysis"]
-     PLANComponents --> PLANDecision{"ü§î Creative Phase<br>Required?"}
-     PLANDecision -->|"Yes"| PLANFlagCreative["üé® PLAN: Flag Components<br>for Creative Phase"]
-     PLANDecision -->|"No"| PLANComplete["‚úÖ PLAN Phase Complete"]
-     PLANFlagCreative --> PLANComplete
- 
-     %% Automatic Transition to CREATIVE (if needed)
-     PLANComplete --> CreativeCheck{"üé® Creative<br>Components<br>Flagged?"}
-     CreativeCheck -->|"Yes"| AutoCREATIVE["‚ö° AUTO TRANSITION<br>PLAN ‚Üí CREATIVE"]
-     CreativeCheck -->|"No"| AutoIMPLEMENT["‚ö° AUTO TRANSITION<br>PLAN ‚Üí IMPLEMENT"]
- 
-     %% CREATIVE Phase
-     AutoCREATIVE --> InitCREATIVE["üé® INITIALIZE CREATIVE PHASE<br>Design & Architecture"]
-     InitCREATIVE --> CREATIVEDesign["üèóÔ∏è CREATIVE: Design Options"]
-     CREATIVEDesign --> CREATIVEAnalysis["‚öñÔ∏è CREATIVE: Options Analysis"]
-     CREATIVEAnalysis --> CREATIVESelect["‚úÖ CREATIVE: Selection & Guidelines"]
-     CREATIVESelect --> CREATIVEComplete["‚úÖ CREATIVE Phase Complete"]
- 
-     %% Automatic Transition to IMPLEMENT
-     CREATIVEComplete --> AutoIMPLEMENT
-     AutoIMPLEMENT --> InitIMPLEMENT["‚öíÔ∏è INITIALIZE IMPLEMENT PHASE<br>Code Implementation"]
- 
-     %% IMPLEMENT Phase
-     InitIMPLEMENT --> IMPLEMENTBuild["üî® IMPLEMENT: Build Changes"]
-     IMPLEMENTBuild --> IMPLEMENTTest["‚úÖ IMPLEMENT: Testing"]
-     IMPLEMENTTest --> IMPLEMENTVerify["üîç IMPLEMENT: Verification"]
-     IMPLEMENTVerify --> IMPLEMENTComplete["‚úÖ IMPLEMENT Phase Complete"]
- 
-     %% QA Integration Check
-     IMPLEMENTComplete --> QACheck{"üß™ QA Required?"}
-     QACheck -->|"Yes"| AutoQA["‚ö° AUTO TRANSITION<br>IMPLEMENT ‚Üí QA"]
-     QACheck -->|"No"| AutoREFLECT["‚ö° AUTO TRANSITION<br>IMPLEMENT ‚Üí REFLECT"]
- 
-     %% QA Phase (Optional)
-     AutoQA --> InitQA["üß™ INITIALIZE QA PHASE<br>Quality Assurance"]
-     InitQA --> QATesting["üî¨ QA: Comprehensive Testing"]
-     QATesting --> QAValidation["‚úÖ QA: Validation & Reports"]
-     QAValidation --> QAComplete["‚úÖ QA Phase Complete"]
-     QAComplete --> AutoREFLECT
- 
-     %% Automatic Transition to REFLECT
-     AutoREFLECT --> InitREFLECT["ü§î INITIALIZE REFLECT PHASE<br>Analysis & Learning"]
- 
-     %% REFLECT Phase
-     InitREFLECT --> REFLECTAnalysis["üìä REFLECT: Implementation Analysis"]
-     REFLECTAnalysis --> REFLECTLearnings["üìö REFLECT: Document Learnings"]
-     REFLECTLearnings --> REFLECTImprovements["üí° REFLECT: Identify Improvements"]
-     REFLECTImprovements --> REFLECTComplete["‚úÖ REFLECT Phase Complete"]
- 
-     %% Automatic Transition to ARCHIVE
-     REFLECTComplete --> AutoARCHIVE["‚ö° AUTO TRANSITION<br>REFLECT ‚Üí ARCHIVE"]
-     AutoARCHIVE --> InitARCHIVE["üì¶ INITIALIZE ARCHIVE PHASE<br>Documentation & Storage"]
- 
-     %% ARCHIVE Phase
-     InitARCHIVE --> ARCHIVEDocument["üìù ARCHIVE: Document Workflow"]
-     ARCHIVEDocument --> ARCHIVEStore["üíæ ARCHIVE: Store Artifacts"]
-     ARCHIVEStore --> ARCHIVECleanup["üßπ ARCHIVE: Cleanup & Organization"]
-     ARCHIVECleanup --> UniversalComplete["üéâ UNIVERSAL WORKFLOW<br>COMPLETE"]
- 
-     %% Web Search Integration (Available Throughout)
-     VANAnalysis & PLANStrategy & CREATIVEDesign & IMPLEMENTBuild & QATesting & REFLECTAnalysis --> WebSearch["üåê Web Search Integration<br>Available Throughout Workflow"]
-     WebSearch --> ResearchSupport["üîç Research Support<br>Error Resolution & Feature Discovery"]
- 
-     %% QA Interrupt System
-     Start -.-> QAInterrupt["‚ö†Ô∏è QA INTERRUPT SYSTEM<br>Handle User Questions<br>During Workflow"]
-     QAInterrupt -.-> ContinueWorkflow["üîÑ Resume Workflow<br>After QA Resolution"]
- 
-     %% Styling
-     style Start fill:#6c5ce7,stroke:#5f3dc4,color:white
-     style LoadCore fill:#a29bfe,stroke:#6c5ce7,color:white
-     style LoadWebSearch fill:#00b894,stroke:#00a085,color:white
-     style AutoPLAN fill:#fdcb6e,stroke:#e17055,color:white
-     style AutoCREATIVE fill:#fd79a8,stroke:#e84393,color:white
-     style AutoIMPLEMENT fill:#55a3ff,stroke:#0984e3,color:white
-     style AutoQA fill:#ff6b6b,stroke:#d63031,color:white
-     style AutoREFLECT fill:#00cec9,stroke:#00b894,color:white
-     style AutoARCHIVE fill:#a29bfe,stroke:#6c5ce7,color:white
-     style UniversalComplete fill:#00b894,stroke:#00a085,color:white
-     style WebSearch fill:#00b894,stroke:#00a085,color:white
-     style QAInterrupt fill:#ff7675,stroke:#d63031,color:white
- ```
- 
- ## IMPLEMENTATION STEPS
- 
- ### Step 1: READ UNIVERSAL MODE CORE RULES
- ```
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Core/universal-mode-integration.mdc",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Core/web-search-integration.mdc",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: ".cursor/rules/isolation_rules/Core/qa-interrupt-system.mdc",
-   should_read_entire_file: true
- })
- ```
- 
- ### Step 2: READ CURRENT STATE & TASKS
- ```
- read_file({
-   target_file: "tasks.md",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: "memory-bank/activeContext.md",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: "progress.md",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: "memory-bank/system/current-context.md",
-   should_read_entire_file: true
- })
- ```
- 
- ### Step 2.6: Context Management for UNIVERSAL Mode
- **IMPORTANT**: Initialize or restore context for UNIVERSAL mode:
- 
- ```
- edit_file({
-   target_file: "memory-bank/system/current-context.md",
-   instructions: "Initializing context for UNIVERSAL mode - full workflow",
-   code_edit: `# CURRENT CONTEXT STATE
- 
- **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: [CURRENT_DATE]
- **–°—Ç–∞—Ç—É—Å**: ACTIVE
- 
- ## üéØ –¢–ï–ö–£–©–ò–ô –ó–ê–ü–†–û–° –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø
- \`\`\`
- [FULL_USER_REQUEST_TEXT]
- \`\`\`
- 
- ## üîß –¢–ï–ö–£–©–ò–ô –†–ï–ñ–ò–ú –†–ê–ë–û–¢–´
- **–ê–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º**: UNIVERSAL
- **–§–∞–∑–∞**: [VAN|PLAN|CREATIVE|IMPLEMENT|QA|REFLECT|ARCHIVE]
- **–£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏**: [TO_BE_DETERMINED]
- 
- ## üìã –ö–û–ù–¢–ï–ö–°–¢ –ó–ê–î–ê–ß–ò
- **–ó–∞–¥–∞—á–∞**: [TASK_DESCRIPTION]
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: [HIGH|MEDIUM|LOW]
- **–°—Ç–∞—Ç—É—Å**: IN_PROGRESS
- 
- ### –û–ø–∏—Å–∞–Ω–∏–µ:
- [DETAILED_UNIVERSAL_CONTEXT]
- 
- ### Workflow Progress:
- - [ ] üöÄ VAN: Problem Analysis
- - [ ] üìã PLAN: Strategic Planning
- - [ ] üé® CREATIVE: Design & Architecture (if needed)
- - [ ] ‚öôÔ∏è IMPLEMENT: Build & Development
- - [ ] üß™ QA: Quality Assurance
- - [ ] ü§î REFLECT: Review & Learning
- - [ ] üì¶ ARCHIVE: Knowledge Storage
- 
- ### Current Phase Progress:
- - [x] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è UNIVERSAL —Ä–µ–∂–∏–º–∞
- - [ ] [Phase-specific steps will be updated by each mode]
- 
- ## üìã –ü–†–ê–í–ò–õ–ê –ü–†–û–ï–ö–¢–ê
- [–°–ü–ò–°–û–ö_–ù–ê–ô–î–ï–ù–ù–´–•_–ü–†–ê–í–ò–õ_–ò–ó_RULES_–î–ò–†–ï–ö–¢–û–†–ò–ò]
- 
- ## üìù –ù–ê–ô–î–ï–ù–ù–´–ï –ó–ê–î–ê–ß–ò
- ### TODO/FIXME –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:
- [–°–ü–ò–°–û–ö_TODO_–ó–ê–î–ê–ß_–°_–§–ê–ô–õ–ê–ú–ò_–ò_–°–¢–†–û–ö–ê–ú–ò]
- 
- ### –ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —á–µ–∫–±–æ–∫—Å—ã:
- [–°–ü–ò–°–û–ö_–ù–ï–ó–ê–í–ï–†–®–ï–ù–ù–´–•_–ß–ï–ö–ë–û–ö–°–û–í]
- 
- ## üóÇÔ∏è –§–ê–ô–õ–´ –í –†–ê–ë–û–¢–ï
- - memory-bank/system/current-context.md
- - memory-bank/tasks.md
- - [files-will-be-added-by-each-phase]
- 
- ## üìä –ú–ï–¢–†–ò–ö–ò –°–ï–°–°–ò–ò
- **–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞**: [CURRENT_DATE]
- **–ö–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–æ**: 0
- **–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ**: 1
- **–°—Ç–∞—Ç—É—Å —Å–µ—Å—Å–∏–∏**: ACTIVE
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ—Ö–æ–¥—ã**: 0`
- })
- ```
- 
- ### Step 2.7: Context Update During Phase Transitions
- **IMPORTANT**: Update context when transitioning between phases:
- 
- ```
- # During each phase transition, update the context:
- edit_file({
-   target_file: "memory-bank/system/current-context.md",
-   instructions: "Updating context for phase transition in UNIVERSAL mode",
-   code_edit: `[Update the current phase, progress checklist, and metrics]`
- })
- ```
- 
- ### Step 3: LOAD MODE-SPECIFIC REFERENCES
- ```
- read_file({
-   target_file: ".cursor/rules/isolation_rules/visual-maps/van-mode-map.mdc",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: ".cursor/rules/isolation_rules/visual-maps/plan-mode-map.mdc",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: ".cursor/rules/isolation_rules/visual-maps/creative-mode-map.mdc",
-   should_read_entire_file: true
- })
- 
- read_file({
-   target_file: ".cursor/rules/isolation_rules/visual-maps/implement-mode-map.mdc",
-   should_read_entire_file: true
- })
- ```
- 
- ## UNIVERSAL WORKFLOW APPROACH
- 
- Execute a complete end-to-end workflow with automatic transitions between all phases. Each phase should complete its objectives and automatically trigger the next phase without user intervention.
- 
- ### üåê Web Search Integration Throughout Workflow
- Universal mode has continuous web search capabilities:
- - **VAN Phase**: `@web analyze: [problem]` - Research during analysis
- - **PLAN Phase**: `@web research: [technology]` - Research during planning
- - **CREATIVE Phase**: `@web design: [pattern]` - Research design patterns
- - **IMPLEMENT Phase**: `@web solve: [issue]` - Resolve implementation issues
- - **QA Phase**: `@web test: [approach]` - Research testing strategies
- - **REFLECT Phase**: `@web improve: [area]` - Research improvements
- 
- ### Phase 1: VAN - Analysis & Problem Identification
- 
- Start with comprehensive analysis of the current state, determine complexity level, and process any migrated tasks.
- 
- ```mermaid
- graph TD
-     VAN["üîç VAN PHASE"] --> Analysis["Analyze current state"]
-     Analysis --> Complexity["Determine complexity level"]
-     Complexity --> Migration["Process migrated tasks"]
-     Migration --> Context["Update activeContext.md"]
-     Context --> AutoTransition["üîÑ AUTO ‚Üí PLAN"]
- 
-     style VAN fill:#74b9ff,stroke:#0984e3,color:white
-     style Analysis fill:#a7d8ff,stroke:#74b9ff,color:black
-     style Complexity fill:#a7d8ff,stroke:#74b9ff,color:black
-     style Migration fill:#a7d8ff,stroke:#74b9ff,color:black
-     style Context fill:#a7d8ff,stroke:#74b9ff,color:black
-     style AutoTransition fill:#fdcb6e,stroke:#e17055,color:white
- ```
- 
- ### Phase 2: PLAN - Implementation Planning
- 
- Develop comprehensive implementation strategy and determine if creative phases are needed.
- 
- **Debugging-Aware Design**: During this phase, integrate debugging considerations directly into your design process. Use rules like `_cursor/rules/isolation_rules/CustomWorkflow/debugging/invariant-validation.mdc` for invariants, `_cursor/rules/isolation_rules/CustomWorkflow/debugging/detailed-logging.mdc` for logging events, and `_cursor/rules/isolation_rules/CustomWorkflow/debugging/systematic-debugging.mdc` for systematic debugging approach, using them as a guide for foresight in your plan.
- 
- ```mermaid
- graph TD
-     PLAN["üìã PLAN PHASE"] --> Strategy["Develop implementation strategy"]
-     Strategy --> Components["Analyze components"]
-     Components --> Creative{"Creative phase needed?"}
-     Creative -->|"Yes"| Flag["Flag components for creative work"]
-     Creative -->|"No"| Complete["Plan complete"]
-     Flag --> Complete
-     Complete --> AutoTransition["üîÑ AUTO ‚Üí CREATIVE/IMPLEMENT"]
- 
-     style PLAN fill:#fdcb6e,stroke:#e17055,color:white
-     style Strategy fill:#ffeaa7,stroke:#fdcb6e,color:black
-     style Components fill:#ffeaa7,stroke:#fdcb6e,color:black
-     style Creative fill:#ffeaa7,stroke:#fdcb6e,color:black
-     style Flag fill:#ffeaa7,stroke:#fdcb6e,color:black
-     style Complete fill:#ffeaa7,stroke:#fdcb6e,color:black
-     style AutoTransition fill:#fd79a8,stroke:#e84393,color:white
- ```
- 
- ### Phase 3: CREATIVE - Design & Architecture (Optional)
- 
- Generate multiple design options, analyze pros/cons, and provide implementation guidelines.
- 
- **Debugging-Aware Design**: During this creative phase, integrate debugging considerations directly into your design process. Use rules like `_cursor/rules/isolation_rules/CustomWorkflow/debugging/invariant-validation.mdc` for invariants, `_cursor/rules/isolation_rules/CustomWorkflow/debugging/detailed-logging.mdc` for logging events, and `_cursor/rules/isolation_rules/CustomWorkflow/debugging/systematic-debugging.mdc` for systematic debugging approach, using them as a guide for foresight in your design decisions.
- 
- ```mermaid
- graph TD
-     CREATIVE["üé® CREATIVE PHASE"] --> Options["Generate design options"]
-     Options --> Analysis["Analyze pros/cons"]
-     Analysis --> Select["Select recommended approach"]
-     Select --> Guidelines["Document implementation guidelines"]
-     Guidelines --> AutoTransition["üîÑ AUTO ‚Üí IMPLEMENT"]
- 
-     style CREATIVE fill:#fd79a8,stroke:#e84393,color:white
-     style Options fill:#fda7c7,stroke:#fd79a8,color:black
-     style Analysis fill:#fda7c7,stroke:#fd79a8,color:black
-     style Select fill:#fda7c7,stroke:#fd79a8,color:black
-     style Guidelines fill:#fda7c7,stroke:#fd79a8,color:black
-     style AutoTransition fill:#55a3ff,stroke:#0984e3,color:white
- ```
- 
- ### Phase 4: IMPLEMENT - Code Implementation
- 
- Build the planned changes following creative phase decisions if applicable.
- 
- **Proactive Invariant Validation**: After implementing each module or at the end of the `IMPLEMENT` phase, run `invariant-validation.mdc` from `_cursor/rules/isolation_rules/CustomWorkflow/debugging/invariant-validation.mdc`. This acts as a "quality gate" to check for violations of core system rules.
- 
- **Reactive Debugging**: If tests fail or a bug is discovered during the `IMPLEMENT` phase, switch to a systematic debugging workflow. Follow `_cursor/rules/isolation_rules/CustomWorkflow/debugging/systematic-debugging.mdc` to identify, reproduce, and resolve issues, using `_cursor/rules/isolation_rules/CustomWorkflow/debugging/detailed-logging.mdc` for best practices in logging.
- 
- ```mermaid
- graph TD
-     IMPLEMENT["‚öíÔ∏è IMPLEMENT PHASE"] --> Build["Build changes"]
-     Build --> Test["Test implementation"]
-     Test --> Verify["Verify requirements met"]
-     Verify --> QADecision{"QA required?"}
-     QADecision -->|"Yes"| AutoQA["üîÑ AUTO ‚Üí QA"]
-     QADecision -->|"No"| AutoReflect["üîÑ AUTO ‚Üí REFLECT"]
- 
-     style IMPLEMENT fill:#55a3ff,stroke:#0984e3,color:white
-     style Build fill:#a7d8ff,stroke:#55a3ff,color:black
-     style Test fill:#a7d8ff,stroke:#55a3ff,color:black
-     style Verify fill:#a7d8ff,stroke:#55a3ff,color:black
-     style QADecision fill:#a7d8ff,stroke:#55a3ff,color:black
-     style AutoQA fill:#ff6b6b,stroke:#d63031,color:white
-     style AutoReflect fill:#00cec9,stroke:#00b894,color:white
- ```
- 
- ### Phase 5: QA - Quality Assurance (Optional)
- 
- Perform comprehensive testing based on complexity level.
- 
- **Reactive Debugging**: If tests fail or a bug is discovered during the `QA` phase, switch to a systematic debugging workflow. Follow `_cursor/rules/isolation_rules/CustomWorkflow/debugging/systematic-debugging.mdc` to identify, reproduce, and resolve issues, using `_cursor/rules/isolation_rules/CustomWorkflow/debugging/detailed-logging.mdc` for best practices in logging.
- 
- ```mermaid
- graph TD
-     QA["üß™ QA PHASE"] --> Testing["Comprehensive testing"]
-     Testing --> Validation["Validate results"]
-     Validation --> Reports["Generate QA reports"]
-     Reports --> AutoTransition["üîÑ AUTO ‚Üí REFLECT"]
- 
-     style QA fill:#ff6b6b,stroke:#d63031,color:white
-     style Testing fill:#ff9999,stroke:#ff6b6b,color:black
-     style Validation fill:#ff9999,stroke:#ff6b6b,color:black
-     style Reports fill:#ff9999,stroke:#ff6b6b,color:black
-     style AutoTransition fill:#00cec9,stroke:#00b894,color:white
- ```
- 
- ### Phase 6: REFLECT - Analysis & Learning
- 
- Analyze the implementation, document learnings, and identify improvements.
- 
- **Reactive Debugging**: If issues are identified during reflection (e.g., recurring bugs, unexpected failures), or if tests unexpectedly failed in prior phases, initiate a systematic debugging workflow. Follow `_cursor/rules/isolation_rules/CustomWorkflow/debugging/systematic-debugging.mdc` to identify, reproduce, and resolve issues, using `_cursor/rules/isolation_rules/CustomWorkflow/debugging/detailed-logging.mdc` for best practices in logging.
- 
- ```mermaid
- graph TD
-     REFLECT["ü§î REFLECT PHASE"] --> Analysis["Analyze implementation"]
-     Analysis --> Learnings["Document learnings"]
-     Learnings --> Improvements["Identify improvements"]
-     Improvements --> AutoTransition["üîÑ AUTO ‚Üí ARCHIVE"]
- 
-     style REFLECT fill:#00cec9,stroke:#00b894,color:white
-     style Analysis fill:#7fdddd,stroke:#00cec9,color:black
-     style Learnings fill:#7fdddd,stroke:#00cec9,color:black
-     style Improvements fill:#7fdddd,stroke:#00cec9,color:black
-     style AutoTransition fill:#a29bfe,stroke:#6c5ce7,color:white
- ```
- 
- ### Phase 7: ARCHIVE - Documentation & Storage
- 
- Document the complete workflow and store all artifacts.
- 
- ```mermaid
- graph TD
-     ARCHIVE["üì¶ ARCHIVE PHASE"] --> Document["Document workflow"]
-     Document --> Store["Store artifacts"]
-     Store --> Cleanup["Cleanup & organize"]
-     Cleanup --> Complete["üéâ UNIVERSAL COMPLETE"]
- 
-     style ARCHIVE fill:#a29bfe,stroke:#6c5ce7,color:white
-     style Document fill:#c7c2fe,stroke:#a29bfe,color:black
-     style Store fill:#c7c2fe,stroke:#a29bfe,color:black
-     style Cleanup fill:#c7c2fe,stroke:#a29bfe,color:black
-     style Complete fill:#00b894,stroke:#00a085,color:white
- ```
- 
- ## QA INTERRUPT SYSTEM
- 
- Universal mode includes a QA interrupt system to handle user questions during the workflow without breaking the automation.
- 
- ### QA Interrupt Handling
- ```mermaid
- graph TD
-     Workflow["üîÑ UNIVERSAL WORKFLOW<br>IN PROGRESS"] --> UserQuestion["‚ùì User Question<br>Interrupt"]
-     UserQuestion --> PauseWorkflow["‚è∏Ô∏è Pause Current Phase"]
-     PauseWorkflow --> CreateQATask["üìã Create QA Task"]
-     CreateQATask --> HandleQA["ü§î Handle QA Question"]
-     HandleQA --> DocumentQA["üìù Document QA Response"]
-     DocumentQA --> ResumeWorkflow["‚ñ∂Ô∏è Resume Workflow<br>From Pause Point"]
-     ResumeWorkflow --> ContinuePhase["üîÑ Continue Current Phase"]
- 
-     style UserQuestion fill:#ff7675,stroke:#d63031,color:white
-     style PauseWorkflow fill:#fdcb6e,stroke:#e17055,color:white
-     style HandleQA fill:#74b9ff,stroke:#0984e3,color:white
-     style ResumeWorkflow fill:#00b894,stroke:#00a085,color:white
- ```
- 
- ## AUTOMATIC TRANSITION LOGIC
- 
- ### Transition Triggers
- 1. **VAN ‚Üí PLAN**: When analysis is complete and activeContext.md is updated
- 2. **PLAN ‚Üí CREATIVE**: When components are flagged for creative work
- 3. **PLAN ‚Üí IMPLEMENT**: When no creative phases are needed
- 4. **CREATIVE ‚Üí IMPLEMENT**: When all creative phases are complete
- 5. **IMPLEMENT ‚Üí QA**: When implementation is complete and QA is required
- 6. **IMPLEMENT ‚Üí REFLECT**: When implementation is complete and QA is not required
- 7. **QA ‚Üí REFLECT**: When QA testing is complete
- 8. **REFLECT ‚Üí ARCHIVE**: When reflection analysis is complete
- 9. **ARCHIVE ‚Üí COMPLETE**: When all artifacts are stored and organized
- 
- ### Transition Documentation
- Each transition should be clearly documented:
- ```markdown
- üîÑ **AUTOMATIC TRANSITION**: [FROM] ‚Üí [TO]
- - **Trigger**: [What triggered the transition]
- - **Status**: [Current phase completion status]
- - **Next Phase**: [What will happen in next phase]
- - **Context**: [Any relevant context for next phase]
- ```
- 
- ## VERIFICATION
- 
- ```mermaid
- graph TD
-     V["‚úÖ UNIVERSAL VERIFICATION"] --> VAN["VAN phase completed?"]
-     V --> PLAN["PLAN phase completed?"]
-     V --> CREATIVE["CREATIVE phases completed (if needed)?"]
-     V --> IMPLEMENT["IMPLEMENT phase completed?"]
-     V --> QA["QA phase completed (if needed)?"]
-     V --> REFLECT["REFLECT phase completed?"]
-     V --> ARCHIVE["ARCHIVE phase completed?"]
-     V --> Transitions["All transitions documented?"]
- 
-     VAN & PLAN & CREATIVE & IMPLEMENT & QA & REFLECT & ARCHIVE & Transitions --> Decision{"All Verified?"}
-     Decision -->|"Yes"| Complete["UNIVERSAL WORKFLOW COMPLETE"]
-     Decision -->|"No"| Fix["Complete missing phases"]
- 
-     style V fill:#6c5ce7,stroke:#5f3dc4,color:white
-     style Decision fill:#fdcb6e,stroke:#e17055,color:white
-     style Complete fill:#00b894,stroke:#00a085,color:white
-     style Fix fill:#ff6b6b,stroke:#d63031,color:white
- ```
- 
- Before completing the Universal workflow, verify that all phases have been executed, transitions have been documented, and the complete end-to-end process has been successful. The Universal mode should provide a seamless, automated experience from initial analysis to final archival.
+ ## üîó –õ–æ–≥–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Universal Mode
+ 
+ –ü–æ–ª–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Universal Mode, –≤–∫–ª—é—á–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ñ–∞–∑, —à–∞–≥–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –≤—ã–±–æ—Ä–∞ –∞–∫—Ç–∏–≤–Ω–æ–π –∑–∞–¥–∞—á–∏, —Ç–µ–ø–µ—Ä—å –æ–ø–∏—Å–∞–Ω–∞ –≤ –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ –ø—Å–µ–≤–¥–æ–∫–æ–¥–∞.
+ 
+ –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–∞–±–æ—Ç–µ Universal Mode, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ñ–∞–π–ª—É:
+ 
+ *   `custom_modes/universal_workflow.pse`
+ 
+ –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π, –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø–æ—Ç–æ–∫–∏ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ñ–∞–∑–∞–º–∏ (VAN, PLAN, CREATIVE, IMPLEMENT, QA, REFLECT, ARCHIVE), –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø–æ–ª–Ω—É—é –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
```

---



---

–û—Ç–ª–∏—á–Ω–æ, `universal_instructions.md` –æ–±–Ω–æ–≤–ª–µ–Ω. –¢–µ–ø–µ—Ä—å —è –ø–µ—Ä–µ–π–¥—É –∫ `custom_modes/van_core_workflow.md`. –Ø –ø—Ä–æ—á–∏—Ç–∞—é –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –ª—É—á—à–µ –≤—Å–µ–≥–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å `van_core_workflow.pse` –∏ –∑–∞–º–µ–Ω–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—É—é –ª–æ–≥–∏–∫—É –ø—Ä—è–º–æ–π —Å—Å—ã–ª–∫–æ–π –Ω–∞ –Ω–æ–≤—ã–π —Ñ–∞–π–ª.



---

Read file: custom_modes/van_core_workflow.md

---



---

–Ø –ø–æ–Ω—è–ª. –¢–µ–ø–µ—Ä—å —è –æ–±–Ω–æ–≤–ª—é `custom_modes/van_core_workflow.md`. –Ø –∑–∞–º–µ–Ω—é –≤—Å–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –∏ –ª–æ–≥–∏–∫—É –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ –Ω–∞ –ø—Ä–æ—Å—Ç—É—é —Å—Å—ã–ª–∫—É –Ω–∞ `custom_modes/van_core_workflow.pse`, –≥–¥–µ —Ç–µ–ø–µ—Ä—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ VAN —Ä–µ–∂–∏–º–∞.

–≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç —Ñ–∞–π–ª –±–æ–ª–µ–µ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–º –∏ –Ω–∞–ø—Ä–∞–≤–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫ –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–º—É –ø—Å–µ–≤–¥–æ–∫–æ–¥—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.



---

```diff
  # VAN CORE WORKFLOW - DETAILED PROCESS MAP
  
- > **TL;DR:** Complete VAN mode workflow with full process diagrams, task continuity integration, Memory Bank updates, and comprehensive error handling.
+ > **TL;DR:** –ü–æ–ª–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–∂–∏–º–∞ VAN —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ—Å—Ç–∏ –∑–∞–¥–∞—á, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ Memory Bank –∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ —Ç–µ–ø–µ—Ä—å –æ–ø–∏—Å–∞–Ω –≤ –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ –ø—Å–µ–≤–¥–æ–∫–æ–¥–∞.
  
  ## üß≠ NAVIGATION
  - üè† **[Main Instructions](van_instructions.md)** - Return to main VAN instructions
  - üîÑ **[Core Workflow](van_core_workflow.md)** ‚Üê You are here
- 
- 
- 
- ---
- 
- ## üîÑ COMPLETE VAN WORKFLOW DIAGRAM
- 
- ```mermaid
- graph TD
-     %% Main Command Detection
-     Start["User Command"] --> CommandDetect{"Command<br>Type?"}
- 
-     CommandDetect -->|"VAN"| VAN["VAN Mode"]
- 
- 
-     CommandDetect -->|"PLAN"| Plan["PLAN Mode"]
-     CommandDetect -->|"CREATIVE"| Creative["CREATIVE Mode"]
-     CommandDetect -->|"IMPLEMENT"| Implement["IMPLEMENT Mode"]
-     CommandDetect -->|"QA"| QA["QA Mode"]
- 
-     %% Immediate Response Node
-     VAN --> VanResp["Respond: OK VAN"]
- 
- 
-     Plan --> PlanResp["Respond: OK PLAN"]
-     Creative --> CreativeResp["Respond: OK CREATIVE"]
-     Implement --> ImplResp["Respond: OK IMPLEMENT"]
-     QA --> QAResp["Respond: OK QA"]
- 
-     %% Memory Bank Check with Task Continuity
-     VanResp --> CheckMB_Van["Check Memory Bank<br>& tasks.md Status"]
-     CheckMB_Van --> TaskContinuityCheck["üîÑ TASK CONTINUITY CHECK<br>[ENHANCED STEP]"]
-     TaskContinuityCheck --> MigrationCheck{"migration.md<br>Exists?"}
-     MigrationCheck -->|"Yes"| ProcessMigration["üì¶ Process Task Migration<br>[ENHANCED PROCESS]"]
-     MigrationCheck -->|"No"| LoadVan["Load Rules:<br>van_mode_split/van-mode-map<br>complexity-decision-tree<br>file-verification"]
-     ProcessMigration --> IntegrateUnfinished["üìã Integrate Unfinished Tasks<br>into Current Cycle"]
-     IntegrateUnfinished --> LoadVan
- 
- 
- 
-     PlanResp --> CheckMB_Plan["Check Memory Bank<br>& tasks.md Status"]
-     CreativeResp --> CheckMB_Creative["Check Memory Bank<br>& tasks.md Status"]
-     ImplResp --> CheckMB_Impl["Check Memory Bank<br>& tasks.md Status"]
-     QAResp --> CheckMB_QA["Check Memory Bank<br>& tasks.md Status"]
- 
-     %% Rule Loading with fetch_rules
- 
- 
-     CheckMB_Plan --> LoadPlan["Load Rules via fetch_rules:<br>visual-maps/plan-mode-map<br>interactive-planning<br>problem-prioritization"]
-     CheckMB_Creative --> LoadCreative["Load Rules via fetch_rules:<br>visual-maps/creative-mode-map<br>creative-decision-control<br>creative-phase-architecture"]
-     CheckMB_Impl --> LoadImpl["Load Rules via fetch_rules:<br>visual-maps/implement-mode-map<br>phased-implementation<br>command-execution"]
-     CheckMB_QA --> LoadQA["Load Rules via fetch_rules:<br>visual-maps/qa-mode-map<br>edge-cases<br>performance-testing"]
- 
-     %% Rule Execution with Memory Bank Updates
-     LoadVan --> ExecVan["Execute VAN<br>Process"]
- 
- 
-     LoadPlan --> ExecPlan["Execute Process<br>in Rule"]
-     LoadCreative --> ExecCreative["Execute Process<br>in Rule"]
-     LoadImpl --> ExecImpl["Execute Process<br>in Rule"]
-     LoadQA --> ExecQA["Execute Process<br>in Rule"]
- 
-     %% Memory Bank Continuous Updates
-     ExecVan --> UpdateMB_Van["Update Memory Bank<br>& tasks.md"]
- 
- 
-     ExecPlan --> UpdateMB_Plan["Update Memory Bank<br>& tasks.md"]
-     ExecCreative --> UpdateMB_Creative["Update Memory Bank<br>& tasks.md"]
-     ExecImpl --> UpdateMB_Impl["Update Memory Bank<br>& tasks.md"]
-     ExecQA --> UpdateMB_QA["Update Memory Bank<br>& tasks.md"]
- 
-     %% Verification with Memory Bank Checks
-     UpdateMB_Van --> VerifyVan{"VAN Process<br>Complete?"}
- 
- 
-     UpdateMB_Plan --> VerifyPlan{"Process<br>Complete?"}
-     UpdateMB_Creative --> VerifyCreative{"Process<br>Complete?"}
-     UpdateMB_Impl --> VerifyImpl{"Process<br>Complete?"}
-     UpdateMB_QA --> VerifyQA{"Process<br>Complete?"}
- 
-     %% Outcomes
-     VerifyVan -->|"Yes"| CompleteVan["VAN Process<br>Complete"]
-     VerifyVan -->|"No"| RetryVan["Resume<br>VAN Process"]
-     RetryVan --- ReadMB_Van["Reference Memory Bank<br>for Context"]
-     ReadMB_Van --> ExecVan
- 
- 
- 
- 
- 
-     VerifyPlan -->|"Yes"| CompletePlan["PLAN Process<br>Complete"]
-     VerifyPlan -->|"No"| RetryPlan["Resume<br>PLAN Process"]
-     RetryPlan --- ReadMB_Plan["Reference Memory Bank<br>for Context"]
-     ReadMB_Plan --> ExecPlan
- 
-     VerifyCreative -->|"Yes"| CompleteCreative["CREATIVE Process<br>Complete"]
-     VerifyCreative -->|"No"| RetryCreative["Resume<br>CREATIVE Process"]
-     RetryCreative --- ReadMB_Creative["Reference Memory Bank<br>for Context"]
-     ReadMB_Creative --> ExecCreative
- 
-     VerifyImpl -->|"Yes"| CompleteImpl["IMPLEMENT Process<br>Complete"]
-     VerifyImpl -->|"No"| RetryImpl["Resume<br>IMPLEMENT Process"]
-     RetryImpl --- ReadMB_Impl["Reference Memory Bank<br>for Context"]
-     ReadMB_Impl --> ExecImpl
- 
-     VerifyQA -->|"Yes"| CompleteQA["QA Process<br>Complete"]
-     VerifyQA -->|"No"| RetryQA["Resume<br>QA Process"]
-     RetryQA --- ReadMB_QA["Reference Memory Bank<br>for Context"]
-     ReadMB_QA --> ExecQA
- 
-     %% Final Memory Bank Updates at Completion
-     CompleteVan --> FinalMB_Van["Update Memory Bank<br>with Completion Status"]
- 
- 
-     CompletePlan --> FinalMB_Plan["Update Memory Bank<br>with Completion Status"]
-     CompleteCreative --> FinalMB_Creative["Update Memory Bank<br>with Completion Status"]
-     CompleteImpl --> FinalMB_Impl["Update Memory Bank<br>with Completion Status"]
-     CompleteQA --> FinalMB_QA["Update Memory Bank<br>with Completion Status"]
- 
-     %% Mode Transitions with Memory Bank Preservation
-     FinalMB_Van -->|"Level 1"| TransToImpl["‚Üí IMPLEMENT Mode"]
-     FinalMB_Van -->|"Level 2-4"| TransToPlan["‚Üí PLAN Mode"]
- 
- 
-     FinalMB_Plan --> TransToCreative["‚Üí CREATIVE Mode"]
-     FinalMB_Creative --> TransToImpl2["‚Üí IMPLEMENT Mode"]
-     FinalMB_Impl --> TransToQA["‚Üí QA Mode"]
- 
-     %% Memory Bank System
-     MemoryBank["MEMORY BANK<br>CENTRAL SYSTEM"] -.-> tasks["tasks.md<br>Source of Truth"]
-     MemoryBank -.-> projBrief["projectbrief.md<br>Foundation"]
-     MemoryBank -.-> active["activeContext.md<br>Current Focus"]
-     MemoryBank -.-> progress["progress.md<br>Implementation Status"]
- 
-     CheckMB_Van & CheckMB_Plan & CheckMB_Creative & CheckMB_Impl & CheckMB_QA -.-> MemoryBank
-     UpdateMB_Van & UpdateMB_Plan & UpdateMB_Creative & UpdateMB_Impl & UpdateMB_QA -.-> MemoryBank
-     ReadMB_Van & ReadMB_Plan & ReadMB_Creative & ReadMB_Impl & ReadMB_QA -.-> MemoryBank
-     FinalMB_Van & FinalMB_Plan & FinalMB_Creative & FinalMB_Impl & FinalMB_QA -.-> MemoryBank
- 
-     %% Error Handling
-     Error["‚ö†Ô∏è ERROR<br>DETECTION"] -->|"Todo App"| BlockCreative["‚õî BLOCK<br>creative-mode-map"]
-     Error -->|"Multiple Rules"| BlockMulti["‚õî BLOCK<br>Multiple Rules"]
-     Error -->|"Rule Loading"| UseCorrectFn["‚úì Use fetch_rules<br>NOT read_file"]
- 
-     %% Styling
-     style Start fill:#f8d486,stroke:#e8b84d,color:black
-     style CommandDetect fill:#f8d486,stroke:#e8b84d,color:black
-     style VAN fill:#ccf,stroke:#333,color:black
- 
- 
-     style Plan fill:#cfc,stroke:#333,color:black
-     style Creative fill:#fcf,stroke:#333,color:black
-     style Implement fill:#cff,stroke:#333,color:black
-     style QA fill:#fcc,stroke:#333,color:black
- 
-     style VanResp fill:#d9e6ff,stroke:#99ccff,color:black
- 
- 
-     style PlanResp fill:#d9e6ff,stroke:#99ccff,color:black
-     style CreativeResp fill:#d9e6ff,stroke:#99ccff,color:black
-     style ImplResp fill:#d9e6ff,stroke:#99ccff,color:black
-     style QAResp fill:#d9e6ff,stroke:#99ccff,color:black
- 
-     style LoadVan fill:#a3dded,stroke:#4db8db,color:black
-     style LoadPlan fill:#a3dded,stroke:#4db8db,color:black
-     style LoadCreative fill:#a3dded,stroke:#4db8db,color:black
-     style LoadImpl fill:#a3dded,stroke:#4db8db,color:black
-     style LoadQA fill:#a3dded,stroke:#4db8db,color:black
- 
-     style ExecVan fill:#a3e0ae,stroke:#4dbb5f,color:black
-     style ExecPlan fill:#a3e0ae,stroke:#4dbb5f,color:black
-     style ExecCreative fill:#a3e0ae,stroke:#4dbb5f,color:black
-     style ExecImpl fill:#a3e0ae,stroke:#4dbb5f,color:black
-     style ExecQA fill:#a3e0ae,stroke:#4dbb5f,color:black
- 
-     style VerifyVan fill:#e699d9,stroke:#d94dbb,color:black
-     style VerifyPlan fill:#e699d9,stroke:#d94dbb,color:black
-     style VerifyCreative fill:#e699d9,stroke:#d94dbb,color:black
-     style VerifyImpl fill:#e699d9,stroke:#d94dbb,color:black
-     style VerifyQA fill:#e699d9,stroke:#d94dbb,color:black
- 
-     style CompleteVan fill:#8cff8c,stroke:#4dbb5f,color:black
-     style CompletePlan fill:#8cff8c,stroke:#4dbb5f,color:black
-     style CompleteCreative fill:#8cff8c,stroke:#4dbb5f,color:black
-     style CompleteImpl fill:#8cff8c,stroke:#4dbb5f,color:black
-     style CompleteQA fill:#8cff8c,stroke:#4dbb5f,color:black
- 
-     style MemoryBank fill:#f9d77e,stroke:#d9b95c,stroke-width:2px,color:black
-     style tasks fill:#f9d77e,stroke:#d9b95c,color:black
-     style projBrief fill:#f9d77e,stroke:#d9b95c,color:black
-     style active fill:#f9d77e,stroke:#d9b95c,color:black
-     style progress fill:#f9d77e,stroke:#d9b95c,color:black
- 
-     style Error fill:#ff5555,stroke:#cc0000,color:white,stroke-width:2px,color:black
-     style BlockCreative fill:#ffaaaa,stroke:#ff8080,color:black
-     style BlockMulti fill:#ffaaaa,stroke:#ff8080,color:black
-     style UseCorrectFn fill:#8cff8c,stroke:#4dbb5f,color:black
- ```
- 
- ---
- 
- ## üìã MEMORY BANK FILE STRUCTURE
- 
- ```mermaid
- flowchart TD
-     PB([projectbrief.md]) --> PC([productContext.md])
-     PB --> SP([systemPatterns.md])
-     PB --> TC([techContext.md])
- 
-     PC & SP & TC --> AC([activeContext.md])
- 
-     AC --> P([progress.md])
-     AC --> Tasks([tasks.md])
- 
-     style PB fill:#f9d77e,stroke:#d9b95c,color:black
-     style PC fill:#a8d5ff,stroke:#88b5e0,color:black
-     style SP fill:#a8d5ff,stroke:#88b5e0,color:black
-     style TC fill:#a8d5ff,stroke:#88b5e0,color:black
-     style AC fill:#c5e8b7,stroke:#a5c897,color:black
-     style P fill:#f4b8c4,stroke:#d498a4,color:black
-     style Tasks fill:#f4b8c4,stroke:#d498a4,stroke-width:3px,color:black
- ```
- 
- ---
- 
- ## üîÑ TASK CONTINUITY DETAILED PROCESS
- 
- ### Migration Detection and Processing
- 
- ```mermaid
- graph TD
-     Start["VAN Mode Start"] --> CheckMigration{"migration.md<br>exists?"}
-     CheckMigration -->|"Yes"| ValidateMigration["Validate Migration<br>Document Format"]
-     CheckMigration -->|"No"| CheckExisting{"tasks.md<br>has content?"}
- 
-     ValidateMigration --> ParseTasks["Parse Unfinished<br>Tasks from Migration"]
-     ParseTasks --> MergeTasks["Merge with Current<br>tasks.md"]
-     MergeTasks --> ArchiveMigration["Archive Processed<br>Migration"]
- 
-     CheckExisting -->|"Yes"| WarnUser["‚ö†Ô∏è Warn User About<br>Potential Task Loss"]
-     CheckExisting -->|"No"| InitializeNew["Initialize New<br>Task Structure"]
- 
-     WarnUser --> UserChoice{"User Choice?"}
-     UserChoice -->|"Create Migration"| CreateMigration["Create Migration<br>Document"]
-     UserChoice -->|"Proceed"| ArchiveExisting["Archive Existing<br>Tasks"]
- 
-     CreateMigration --> MergeTasks
-     ArchiveExisting --> InitializeNew
-     ArchiveMigration --> InitializeNew
-     InitializeNew --> ContinueVAN["Continue VAN<br>Process"]
- 
-     style Start fill:#4da6ff,stroke:#0066cc,color:white
-     style CheckMigration fill:#d94dbb,stroke:#a3378a,color:white
-     style ValidateMigration fill:#4dbb5f,stroke:#36873f,color:white
-     style WarnUser fill:#ffa64d,stroke:#cc7a30,color:white
-     style ContinueVAN fill:#5fd94d,stroke:#3da336,color:white
- ```
- 
- ---
- 
- ## üö® ERROR HANDLING SYSTEM
- 
- ### Error Detection and Resolution
- 
- ```mermaid
- graph TD
-     ErrorDetect["‚ö†Ô∏è Error Detected"] --> ErrorType{"Error Type?"}
- 
-     ErrorType -->|"Todo App Block"| TodoBlock["‚õî Block creative-mode-map<br>for Todo applications"]
-     ErrorType -->|"Multiple Rules"| MultiBlock["‚õî Block loading<br>multiple rule files"]
-     ErrorType -->|"Wrong Function"| FunctionError["‚ùå Using read_file<br>instead of fetch_rules"]
-     ErrorType -->|"Missing File"| FileError["‚ùå Required file<br>not found"]
-     ErrorType -->|"Permission"| PermError["‚ùå File permission<br>denied"]
- 
-     TodoBlock --> TodoSolution["‚úì Use alternative<br>creative approach"]
-     MultiBlock --> MultiSolution["‚úì Load rules<br>sequentially"]
-     FunctionError --> FunctionSolution["‚úì Use fetch_rules<br>for rule loading"]
-     FileError --> FileSolution["‚úì Create missing<br>file with defaults"]
-     PermError --> PermSolution["‚úì Request permission<br>or use alternative"]
- 
-     TodoSolution & MultiSolution & FunctionSolution & FileSolution & PermSolution --> Retry["Retry Operation"]
-     Retry --> Success{"Success?"}
-     Success -->|"Yes"| Continue["Continue Process"]
-     Success -->|"No"| Escalate["Escalate to<br>Manual Resolution"]
- 
-     style ErrorDetect fill:#ff5555,stroke:#cc0000,color:white
-     style TodoBlock fill:#ffaaaa,stroke:#ff8080,color:black
-     style MultiBlock fill:#ffaaaa,stroke:#ff8080,color:black
-     style FunctionError fill:#ffaaaa,stroke:#ff8080,color:black
-     style Continue fill:#5fd94d,stroke:#3da336,color:white
- ```
- 
- ---
- 
- ## üêõ DEBUGGING CONSIDERATIONS IN VAN CORE WORKFLOW
- 
- During the VAN (Vision, Analysis, and Navigation) phase, proactive integration of debugging principles is crucial for identifying potential issues early and setting the stage for smoother development.
- 
- *   **Debugging-Aware Analysis**: When performing project analysis (`VAN: Project Analysis`), consider what kinds of issues or edge cases might arise. Think about what data would be most valuable to log (`_cursor/rules/isolation_rules/CustomWorkflow/debugging/detailed-logging.mdc`) and what critical system invariants (`_cursor/rules/isolation_rules/CustomWorkflow/debugging/invariant-validation.mdc`) should be upheld.
- *   **Debugging-Aware Complexity**: As you determine the complexity level (`VAN: Complexity Determination`), factor in the potential for debugging challenges. Higher complexity might imply a greater need for rigorous invariant checks and a more systematic debugging approach (`_cursor/rules/isolation_rules/CustomWorkflow/debugging/systematic-debugging.mdc`).
- *   **Foresight in Planning**: The VAN phase should not only outline the problem but also anticipate how to effectively troubleshoot it if the plan goes awry. This proactive mindset, guided by debugging rules, strengthens the overall workflow.
- 
- ---
- 
- ## üìä PROCESS VALIDATION CHECKPOINTS
- 
- ### VAN Mode Validation
- 
- ```mermaid
- graph TD
-     VanStart["VAN Mode Start"] --> CheckFiles["Check Required Files"]
-     CheckFiles --> CheckMigration["Check Migration Status"]
-     CheckMigration --> CheckComplexity["Determine Complexity"]
-     CheckComplexity --> ValidateRules["Validate Rule Loading"]
-     ValidateRules --> CheckMemoryBank["Verify Memory Bank"]
-     CheckMemoryBank --> AllValid{"All Checks<br>Passed?"}
- 
-     AllValid -->|"Yes"| ProceedVAN["Proceed with<br>VAN Process"]
-     AllValid -->|"No"| FixIssues["Fix Identified<br>Issues"]
-     FixIssues --> CheckFiles
- 
-     style VanStart fill:#4da6ff,stroke:#0066cc,color:white
-     style CheckFiles fill:#80bfff,stroke:#4da6ff,color:black
-     style CheckMigration fill:#80bfff,stroke:#4da6ff,color:black
-     style CheckComplexity fill:#80bfff,stroke:#4da6ff,color:black
-     style ValidateRules fill:#80bfff,stroke:#4da6ff,color:black
-     style CheckMemoryBank fill:#80bfff,stroke:#4da6ff,color:black
-     style ProceedVAN fill:#5fd94d,stroke:#3da336,color:white
-     style FixIssues fill:#ffa64d,stroke:#cc7a30,color:white
- ```
- 
- ---
- 
- ## üîß SYSTEM INTEGRATION POINTS
- 
- ### Memory Bank Integration
- 
- - **tasks.md**: Primary source of truth for all task tracking
- - **migration.md**: Temporary file for task continuity across cycles
- - **activeContext.md**: Current session context and focus
- - **progress.md**: Implementation progress tracking
- - **system/current-date.txt**: Real date management
- - **system/interaction-mode.txt**: AUTO/MANUAL mode control
- 
- ### Rules Integration
- 
- - **fetch_rules()**: Primary method for loading rule references
- - **Hierarchical Loading**: Load rules based on mode and complexity
- - **Error Handling**: Graceful fallback for missing or invalid rules
- - **Validation**: Verify rule integrity before execution
- 
- ### Process Flow Integration
- 
- - **Command Detection**: Intelligent routing based on command type
- - **State Preservation**: Maintain context across mode transitions
- - **Verification**: Comprehensive validation at each checkpoint
- - **Recovery**: Automatic retry and manual escalation procedures
- 
- ---
- 
- **Navigation**: Return to [Main Instructions](van_instructions.md)
+ 
+ ---
+ 
+ ## üîó –õ–æ–≥–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è VAN Core Workflow
+ 
+ –ü–æ–ª–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è VAN Core Workflow, –≤–∫–ª—é—á–∞—è –æ–±—Ä–∞–±–æ—Ç–∫—É –º–∏–≥—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞—á, –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ Memory Bank –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º, —Ç–µ–ø–µ—Ä—å –æ–ø–∏—Å–∞–Ω–∞ –≤ –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ –ø—Å–µ–≤–¥–æ–∫–æ–¥–∞.
+ 
+ –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–∞–±–æ—Ç–µ VAN Core Workflow, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ñ–∞–π–ª—É:
+ 
+ *   `custom_modes/van_core_workflow.pse`
+ 
+ –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π, –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø–æ—Ç–æ–∫–∏ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–∞–±–æ—Ç–µ —Ä–µ–∂–∏–º–∞ VAN.
```

---



---

–•–æ—Ä–æ—à–æ, —è –ø—Ä–æ–¥–æ–ª–∂—É –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é. –Ø —É–∂–µ –æ–±–Ω–æ–≤–∏–ª `universal_instructions.md` –∏ `van_core_workflow.md`.

–¢–µ–ø–µ—Ä—å —è –ø–µ—Ä–µ–π–¥—É –∫ `custom_modes/van_instructions.md`. –Ø –ø—Ä–æ—á–∏—Ç–∞—é –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –ª—É—á—à–µ –≤—Å–µ–≥–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å `van_instructions.pse` –∏ –∑–∞–º–µ–Ω–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—É—é –ª–æ–≥–∏–∫—É –ø—Ä—è–º–æ–π —Å—Å—ã–ª–∫–æ–π –Ω–∞ –Ω–æ–≤—ã–π —Ñ–∞–π–ª.



---

Read file: custom_modes/van_instructions.md

---



---

–•–æ—Ä–æ—à–æ, —è –ø—Ä–æ–¥–æ–ª–∂—É –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é. –Ø —É–∂–µ –æ–±–Ω–æ–≤–∏–ª `universal_instructions.md` –∏ `van_core_workflow.md`.

–¢–µ–ø–µ—Ä—å —è –ø–µ—Ä–µ–π–¥—É –∫ `custom_modes/van_instructions.md`. –Ø –∑–∞–º–µ–Ω—é –≤—Å–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –∏ –ª–æ–≥–∏–∫—É –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ –Ω–∞ –ø—Ä–æ—Å—Ç—É—é —Å—Å—ã–ª–∫—É –Ω–∞ `custom_modes/van_instructions.pse`, –≥–¥–µ —Ç–µ–ø–µ—Ä—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ VAN —Ä–µ–∂–∏–º–∞.

–≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç —Ñ–∞–π–ª –±–æ–ª–µ–µ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–º –∏ –Ω–∞–ø—Ä–∞–≤–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫ –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–º—É –ø—Å–µ–≤–¥–æ–∫–æ–¥—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.


---

```diff
  
  > **TL;DR:** –Ø ‚Äî AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É Memory Bank. –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã —è –ø—Ä–æ–≤–µ—Ä—é, –≤—ã–±—Ä–∞–Ω–∞ –ª–∏ –∞–∫—Ç–∏–≤–Ω–∞—è –∑–∞–¥–∞—á–∞. –ï—Å–ª–∏ –Ω–µ—Ç, —è –ø–æ–º–æ–≥—É –≤–∞–º –µ–µ –≤—ã–±—Ä–∞—Ç—å –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é.
- 
- ## üö∂ –õ–û–ì–ò–ö–ê –í–´–ü–û–õ–ù–ï–ù–ò–Ø VAN
- 
- ```mermaid
- graph TD
-     Start["‚ñ∂Ô∏è `VAN`"] --> InitDate["1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞—Ç—É<br>Core/datetime-manager.mdc"]
-     InitDate --> GetActiveTask["2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é –∑–∞–¥–∞—á—É<br>Core/active-task-manager.mdc"]
- 
-     GetActiveTask --> IsTaskActive{"–ó–∞–¥–∞—á–∞ –∞–∫—Ç–∏–≤–Ω–∞?"}
- 
-     IsTaskActive -- "–î–∞" --> VAN_Flow["‚úÖ **–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π VAN-–ø–æ—Ç–æ–∫**<br>–ó–∞–≥—Ä—É–∑–∏—Ç—å van-mode-map –∏ —Ç.–¥."]
- 
-     IsTaskActive -- "–ù–µ—Ç üî¥" --> NoTaskFlow["3. <b>–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –∑–∞–¥–∞—á–∏!</b><br>–ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–≥–∏–∫—É SWITCH TASK"]
-     NoTaskFlow --> ListTasks["–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á<br>(todo, in_progress)"]
-     ListTasks --> UserPrompt["–ó–∞–ø—Ä–æ—Å–∏—Ç—å —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è<br>–≤—ã–±–æ—Ä –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏"]
-     UserPrompt --> UserChoice{"–ß—Ç–æ –≤—ã–±—Ä–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å?"}
- 
-     UserChoice -- "–í—ã–±—Ä–∞–ª —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é" --> SetTask["–í—ã–∑–≤–∞—Ç—å `set_active_task()`"]
-     UserChoice -- "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é" --> CreateTask["–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è<br>–Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏ (Core/task-management-2-0.mdc)"]
- 
-     SetTask --> VAN_Flow
-     CreateTask --> VAN_Flow
- 
-     style NoTaskFlow fill:#ffad42,stroke:#f57c00
- ```
- 
- ### üõ†Ô∏è –ò–°–ü–û–õ–ù–Ø–ï–ú–´–ï –®–ê–ì–ò
- 
- #### –®–∞–≥ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–π –∑–∞–¥–∞—á–∏
- - `initialize_system_date()`
- - `active_task_path=$(get_active_task_path)`
- - –ï—Å–ª–∏ `$active_task_path` **–Ω–µ –ø—É—Å—Ç**, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ **–®–∞–≥—É 3**.
- - –ï—Å–ª–∏ `$active_task_path` **–ø—É—Å—Ç**, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ **–®–∞–≥—É 2**.
- 
- #### –®–∞–≥ 2: –ü—Ä–æ—Ü–µ—Å—Å –≤—ã–±–æ—Ä–∞ –∑–∞–¥–∞—á–∏ (–µ—Å–ª–∏ –Ω–∏ –æ–¥–Ω–∞ –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞)
- 1.  **–°–æ–æ–±—â–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:** "No active task selected. Please choose a task to work on or create a new one."
- 2.  **–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–∫–∏ –∑–∞–¥–∞—á:**
-     ```bash
-     run_terminal_cmd({
-       command: "echo '--- TODO ---' && ls -1 memory-bank/tasks/todo/ && echo '--- IN PROGRESS ---' && ls -1 memory-bank/tasks/in_progress/",
-       explanation: "Displaying available tasks."
-     })
-     ```
- 3.  **–ó–∞–ø—Ä–æ—Å–∏—Ç—å –≤—ã–±–æ—Ä:** "Please enter the name of the task directory to activate, or type `NEW` to create a new task."
- 4.  **–û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
-     -   –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–ª –∏–º—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –≤—ã–ø–æ–ª–Ω–∏—Ç—å `set_active_task("memory-bank/tasks/in_progress/[–∏–º—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏]")` (–∏–ª–∏ `todo`).
-     -   –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–ª `NEW`, –∑–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏ –∏–∑ –ø—Ä–∞–≤–∏–ª–∞ `Core/task-management-2-0.mdc`.
- 5.  **–ü–µ—Ä–µ–π—Ç–∏ –∫ –®–∞–≥—É 3.**
- 
- #### –®–∞–≥ 3: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π VAN-–ø–æ—Ç–æ–∫
- - `fetch_rules(["isolation_rules/visual-maps/van_mode_split/van-mode-map.mdc"])`
- - ... (–∏ –¥–∞–ª–µ–µ –ø–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ª–æ–≥–∏–∫–µ `VAN`, –≤–∫–ª—é—á–∞—è –ø—Ä–æ–≤–µ—Ä–∫—É Git, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ —Ç.–¥.)
  
  ## üß≠ NAVIGATION
  - üè† **[Main Instructions](van_instructions.md)** ‚Üê You are here
- ```
- read_file({
-   target_file: "van_core_workflow.md",
-   should_read_entire_file: true
- })
- 
- 
- ```
  - üîÑ **[Core Workflow](van_core_workflow.md)** - Detailed VAN workflow with full diagrams
  
- 
  ---
+ 
+ ## üîó –õ–æ–≥–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è VAN Mode
+ 
+ –ü–æ–ª–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Unified VAN Mode, –≤–∫–ª—é—á–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é, –ø—Ä–æ–≤–µ—Ä–∫—É –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á, –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–æ–º–∞–Ω–¥, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ—Å—Ç–∏ –∑–∞–¥–∞—á, —Ç–µ–ø–µ—Ä—å –æ–ø–∏—Å–∞–Ω–∞ –≤ –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ –ø—Å–µ–≤–¥–æ–∫–æ–¥–∞.
+ 
+ –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–∞–±–æ—Ç–µ Unified VAN Mode, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ñ–∞–π–ª—É:
+ 
+ *   `custom_modes/van_instructions.pse`
+ 
+ –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π, –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø–æ—Ç–æ–∫–∏ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–∞–±–æ—Ç–µ —Ä–µ–∂–∏–º–∞ VAN.
  
  ## üéØ UNIFIED VAN MODE COMMANDS
```

---



---

–•–æ—Ä–æ—à–æ, —è –ø—Ä–æ–¥–æ–ª–∂—É –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é. –Ø —É–∂–µ –æ–±–Ω–æ–≤–∏–ª `universal_instructions.md`, `van_core_workflow.md` –∏ `van_instructions.md`.

–¢–µ–ø–µ—Ä—å —è –ø–µ—Ä–µ–π–¥—É –∫ `custom_modes/step_by_step_instructions.md`. –Ø –ø—Ä–æ—á–∏—Ç–∞—é –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –ª—É—á—à–µ –≤—Å–µ–≥–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å `step_by_step_instructions.pse` –∏ –∑–∞–º–µ–Ω–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—É—é –ª–æ–≥–∏–∫—É –ø—Ä—è–º–æ–π —Å—Å—ã–ª–∫–æ–π –Ω–∞ –Ω–æ–≤—ã–π —Ñ–∞–π–ª.

---

Read file: custom_modes/step_by_step_instructions.md

---



---

–•–æ—Ä–æ—à–æ, —è –ø—Ä–æ–¥–æ–ª–∂—É –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é. –Ø —É–∂–µ –æ–±–Ω–æ–≤–∏–ª `universal_instructions.md`, `van_core_workflow.md` –∏ `van_instructions.md`.

–¢–µ–ø–µ—Ä—å —è –ø–µ—Ä–µ–π–¥—É –∫ `custom_modes/step_by_step_instructions.md`. –Ø –∑–∞–º–µ–Ω—é –≤—Å–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –∏ –ª–æ–≥–∏–∫—É –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ –Ω–∞ –ø—Ä–æ—Å—Ç—É—é —Å—Å—ã–ª–∫—É –Ω–∞ `custom_modes/step_by_step_instructions.pse`, –≥–¥–µ —Ç–µ–ø–µ—Ä—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ—à–∞–≥–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞.

–≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç —Ñ–∞–π–ª –±–æ–ª–µ–µ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–º –∏ –Ω–∞–ø—Ä–∞–≤–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫ –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–º—É –ø—Å–µ–≤–¥–æ–∫–æ–¥—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

---

```diff
  # MEMORY BANK STEP_BY_STEP MODE (STATEFUL CONTROLLER)
  
- > **TL;DR:** –Ø ‚Äî –¥–∏—Å–ø–µ—Ç—á–µ—Ä –ø–æ—à–∞–≥–æ–≤–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —è –ø—Ä–æ–≤–µ—Ä—é, –≤—ã–±—Ä–∞–Ω–∞ –ª–∏ –∞–∫—Ç–∏–≤–Ω–∞—è –∑–∞–¥–∞—á–∞. –ï—Å–ª–∏ –Ω–µ—Ç, —è –ø–æ–º–æ–≥—É –≤–∞–º –µ–µ –≤—ã–±—Ä–∞—Ç—å –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å. –ò —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º –º—ã –Ω–∞—á–Ω–µ–º –ø–æ—à–∞–≥–æ–≤—ã–π —Ü–∏–∫–ª.
- 
- ## üö∂ –õ–û–ì–ò–ö–ê –í–´–ü–û–õ–ù–ï–ù–ò–Ø STEP_BY_STEP
- 
- ```mermaid
- graph TD
-     Start["‚ñ∂Ô∏è `STEP_BY_STEP`"] --> InitDate["1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞—Ç—É<br>Core/datetime-manager.mdc"]
-     InitDate --> GetActiveTask["2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é –∑–∞–¥–∞—á—É<br>Core/active-task-manager.mdc"]
- 
-     GetActiveTask --> IsTaskActive{"–ó–∞–¥–∞—á–∞ –∞–∫—Ç–∏–≤–Ω–∞?"}
- 
-     IsTaskActive -- "–î–∞" --> STEP_BY_STEP_Flow["‚úÖ <b>–ù–∞—á–∞—Ç—å –ø–æ—à–∞–≥–æ–≤—ã–π —Ü–∏–∫–ª</b><br>–ü—Ä–æ—á–∏—Ç–∞—Ç—å workflow-state.txt..."]
- 
-     IsTaskActive -- "–ù–µ—Ç üî¥" --> NoTaskFlow["3. <b>–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –∑–∞–¥–∞—á–∏!</b><br>–ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–≥–∏–∫—É SWITCH TASK"]
-     NoTaskFlow --> ListTasks["–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á<br>(todo, in_progress)"]
-     ListTasks --> UserPrompt["–ó–∞–ø—Ä–æ—Å–∏—Ç—å –≤—ã–±–æ—Ä –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ<br>–Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏"]
-     UserPrompt --> UserChoice{"–ß—Ç–æ –≤—ã–±—Ä–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å?"}
- 
-     UserChoice -- "–í—ã–±—Ä–∞–ª —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é" --> SetTask["–í—ã–∑–≤–∞—Ç—å `set_active_task()`"]
-     UserChoice -- "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é" --> CreateTask["–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è<br>–Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏ (Core/task-management-2-0.mdc)"]
- 
-     SetTask --> STEP_BY_STEP_Flow
-     CreateTask --> STEP_BY_STEP_Flow
- 
-     style NoTaskFlow fill:#ffad42,stroke:#f57c00
-     style STEP_BY_STEP_Flow fill:#5fd94d,stroke:#3da336,color:white
- ```
- 
- ### üõ†Ô∏è –ò–°–ü–û–õ–ù–Ø–ï–ú–´–ô –ê–õ–ì–û–†–ò–¢–ú
- 
- –ü—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ `STEP_BY_STEP` –∏–ª–∏ –∫–æ–º–∞–Ω–¥—ã `NEXT`, —è –±—É–¥—É –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º:
- 
- #### –®–∞–≥ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–µ-—Ñ–ª–∞–π—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞
- - `initialize_system_date()` (–∏–∑ `Core/datetime-manager.mdc`).
- - `active_task_path=$(get_active_task_path)` (–∏–∑ `Core/active-task-manager.mdc`).
- - –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `$active_task_path` **–Ω–µ –ø—É—Å—Ç–∞**, —è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø–µ—Ä–µ–π–¥—É –∫ **–®–∞–≥—É 3**.
- - –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `$active_task_path` **–ø—É—Å—Ç–∞**, —è –ø–µ—Ä–µ–π–¥—É –∫ **–®–∞–≥—É 2**.
- 
- #### –®–∞–≥ 2: –ü—Ä–æ—Ü–µ—Å—Å –≤—ã–±–æ—Ä–∞ –∑–∞–¥–∞—á–∏ (–µ—Å–ª–∏ –Ω–∏ –æ–¥–Ω–∞ –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞)
- 1.  **–°–æ–æ–±—â–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:** "No active task selected. Please choose a task to work on or create a new one."
- 2.  **–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–∫–∏ –∑–∞–¥–∞—á:**
-     ```bash
-     run_terminal_cmd({
-       command: "echo '--- TODO ---' && ls -1 memory-bank/tasks/todo/ && echo '--- IN PROGRESS ---' && ls -1 memory-bank/tasks/in_progress/",
-       explanation: "Displaying available tasks."
-     })
-     ```
- 3.  **–ó–∞–ø—Ä–æ—Å–∏—Ç—å –≤—ã–±–æ—Ä:** "Please enter the name of the task directory to activate, or type `NEW` to create a new task."
- 4.  **–û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
-     -   –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–ª –∏–º—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, —è –≤—ã–ø–æ–ª–Ω—é `set_active_task("memory-bank/tasks/.../[–∏–º—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏]")`.
-     -   –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–ª `NEW`, —è –∑–∞–ø—É—â—É –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏ –∏–∑ –ø—Ä–∞–≤–∏–ª–∞ `Core/task-management-2-0.mdc`.
- 5.  –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ —è **–ø–µ—Ä–µ–π–¥—É –∫ –®–∞–≥—É 3**.
- 
- #### –®–∞–≥ 3: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—à–∞–≥–æ–≤—ã–π —Ü–∏–∫–ª (–µ—Å–ª–∏ –∑–∞–¥–∞—á–∞ –∞–∫—Ç–∏–≤–Ω–∞)
- - –Ø –ø—Ä–æ—á–∏—Ç–∞—é —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑ —Ñ–∞–π–ª–∞ `memory-bank/system/workflow-state.txt`.
- - –ù–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —è –≤—ã–ø–æ–ª–Ω—é **—Å–ª–µ–¥—É—é—â—É—é** —Ñ–∞–∑—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –∑–∞–≥—Ä—É–∑–∏–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∫–∞—Ä—Ç—É –ø—Ä–æ—Ü–µ—Å—Å–∞.
- 
- ```bash
- # –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π –ø—Å–µ–≤–¥–æ–∫–æ–¥ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ STEP_BY_STEP
- # 0. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞—Ç—ã
- initialize_system_date() # –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ Core/datetime-manager.mdc
- 
- # 1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- local state_file="memory-bank/system/workflow-state.txt"
- local current_state=$(cat "$state_file" 2>/dev/null || echo "START")
- echo "‚ÑπÔ∏è –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: $current_state"
- 
- # 2. –í—ã–ø–æ–ª–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â—É—é —Ñ–∞–∑—É
- case "$current_state" in
-     "START" | "ARCHIVE_COMPLETE")
-         echo "--- üöÄ –ó–∞–ø—É—Å–∫ VAN Phase ---"
-         fetch_rules(["isolation_rules/visual-maps/van_mode_split/van-mode-map.mdc"])
-         # ... (–ó–¥–µ—Å—å –ò–ò –≤—ã–ø–æ–ª–Ω–∏—Ç –ª–æ–≥–∏–∫—É –∏–∑ –∫–∞—Ä—Ç—ã VAN) ...
-         echo "VAN_COMPLETE" > "$state_file"
-         echo "‚úÖ VAN Phase Complete. Type `NEXT` to proceed to the PLAN phase."
-         ;;
-     "VAN_COMPLETE")
-         echo "--- üìã –ó–∞–ø—É—Å–∫ PLAN Phase ---"
-         fetch_rules(["isolation_rules/visual-maps/plan-mode-map.mdc"])
-         # ... (–ó–¥–µ—Å—å –ò–ò –≤—ã–ø–æ–ª–Ω–∏—Ç –ª–æ–≥–∏–∫—É –∏–∑ –∫–∞—Ä—Ç—ã PLAN) ...
-         echo "PLAN_COMPLETE" > "$state_file"
-         echo "‚úÖ PLAN Phase Complete. Type `NEXT` to proceed to the CREATIVE phase."
-         ;;
-     "PLAN_COMPLETE")
-         echo "--- üé® –ó–∞–ø—É—Å–∫ CREATIVE Phase ---"
-         fetch_rules(["isolation_rules/visual-maps/creative-mode-map.mdc"])
-         # ... (–ó–¥–µ—Å—å –ò–ò –≤—ã–ø–æ–ª–Ω–∏—Ç –ª–æ–≥–∏–∫—É –∏–∑ –∫–∞—Ä—Ç—ã CREATIVE) ...
-         echo "CREATIVE_COMPLETE" > "$state_file"
-         echo "‚úÖ CREATIVE Phase Complete. Type `NEXT` to proceed to the IMPLEMENT phase."
-         ;;
-     "CREATIVE_COMPLETE")
-         echo "--- ‚öôÔ∏è –ó–∞–ø—É—Å–∫ IMPLEMENT Phase ---"
-         fetch_rules(["isolation_rules/visual-maps/implement-mode-map.mdc"])
-         # MANDATORY: Apply Proactive Invariant Validation (from _cursor/rules/isolation_rules/CustomWorkflow/debugging/invariant-validation.mdc)
-         # MANDATORY: If tests fail or bugs are discovered, initiate Reactive Debugging (from _cursor/rules/isolation_rules/CustomWorkflow/debugging/systematic-debugging.mdc, using detailed-logging.mdc for best practices)
-         # ... (–ó–¥–µ—Å—å –ò–ò –≤—ã–ø–æ–ª–Ω–∏—Ç –ª–æ–≥–∏–∫—É –∏–∑ –∫–∞—Ä—Ç—ã IMPLEMENT) ...
-         echo "IMPLEMENT_COMPLETE" > "$state_file"
-         echo "‚úÖ IMPLEMENT Phase Complete. Type `NEXT` to proceed to the QA phase."
-         ;;
-     "IMPLEMENT_COMPLETE")
-         echo "--- üß™ –ó–∞–ø—É—Å–∫ QA Phase ---"
-         fetch_rules(["isolation_rules/visual-maps/qa-mode-map.mdc"])
-         # MANDATORY: Apply Proactive Invariant Validation (from _cursor/rules/isolation_rules/CustomWorkflow/debugging/invariant-validation.mdc)
-         # MANDATORY: If tests fail or bugs are discovered, initiate Reactive Debugging (from _cursor/rules/isolation_rules/CustomWorkflow/debugging/systematic-debugging.mdc, using detailed-logging.mdc for best practices)
-         # ... (–ó–¥–µ—Å—å –ò–ò –≤—ã–ø–æ–ª–Ω–∏—Ç –ª–æ–≥–∏–∫—É –∏–∑ –∫–∞—Ä—Ç—ã QA) ...
-         echo "QA_COMPLETE" > "$state_file"
-         echo "‚úÖ QA Phase Complete. Type `NEXT` to proceed to the REFLECT phase."
-         ;;
-     "QA_COMPLETE")
-         echo "--- ü§î –ó–∞–ø—É—Å–∫ REFLECT Phase ---"
-         fetch_rules(["isolation_rules/visual-maps/reflect-mode-map.mdc"])
-         # MANDATORY: If issues are identified during reflection (e.g., recurring bugs, unexpected failures), initiate Reactive Debugging (from _cursor/rules/isolation_rules/CustomWorkflow/debugging/systematic-debugging.mdc, using detailed-logging.mdc for best practices)
-         # ... (–ó–¥–µ—Å—å –ò–ò –≤—ã–ø–æ–ª–Ω–∏—Ç –ª–æ–≥–∏–∫—É –∏–∑ –∫–∞—Ä—Ç—ã REFLECT) ...
-         echo "REFLECT_COMPLETE" > "$state_file"
-         echo "‚úÖ REFLECT Phase Complete. Type `NEXT` to proceed to the ARCHIVE phase."
-         ;;
-     "REFLECT_COMPLETE")
-         echo "--- üì¶ –ó–∞–ø—É—Å–∫ ARCHIVE Phase ---"
-         fetch_rules(["isolation_rules/visual-maps/archive-mode-map.mdc"])
-         # ... (–ó–¥–µ—Å—å –ò–ò –≤—ã–ø–æ–ª–Ω–∏—Ç –ª–æ–≥–∏–∫—É –∏–∑ –∫–∞—Ä—Ç—ã ARCHIVE) ...
-         echo "ARCHIVE_COMPLETE" > "$state_file"
-         echo "üéâ –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω! –ú–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç, –∑–∞–ø—É—Å—Ç–∏–≤ STEP_BY_STEP –µ—â–µ —Ä–∞–∑."
-         ;;
-     *)
-         echo "‚ö†Ô∏è –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ '$current_state'. –°–±—Ä–∞—Å—ã–≤–∞—é –Ω–∞ START."
-         echo "START" > "$state_file"
-         # –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è VAN
-         ;;
- esac
- ```
- 
- –Ø –ë–£–î–£ —Å—Ç—Ä–æ–≥–æ —Å–ª–µ–¥–æ–≤–∞—Ç—å —ç—Ç–æ–π –ª–æ–≥–∏–∫–µ, –∑–∞–≥—Ä—É–∂–∞—è –∏ **–í–´–ü–û–õ–ù–Ø–Ø** –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–æ–æ–±—â–∞—è –æ –Ω–∏—Ö.
+ > **TL;DR:** –Ø ‚Äî –¥–∏—Å–ø–µ—Ç—á–µ—Ä –ø–æ—à–∞–≥–æ–≤–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –ü–æ–ª–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –ø–æ—à–∞–≥–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞, –≤–∫–ª—é—á–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é, –ø—Ä–æ–≤–µ—Ä–∫—É –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á, –ø—Ä–æ—Ü–µ—Å—Å –≤—ã–±–æ—Ä–∞ –∑–∞–¥–∞—á–∏ –∏ –ø–æ—à–∞–≥–æ–≤—ã–π —Ü–∏–∫–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–∞–∑ (VAN, PLAN, CREATIVE, IMPLEMENT, QA, REFLECT, ARCHIVE), —Ç–µ–ø–µ—Ä—å –æ–ø–∏—Å–∞–Ω–∞ –≤ –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ –ø—Å–µ–≤–¥–æ–∫–æ–¥–∞.
+ 
+ –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–∞–±–æ—Ç–µ Step-by-Step Mode, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ñ–∞–π–ª—É:
+ 
+ *   `custom_modes/step_by_step_instructions.pse`
+ 
+ –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π, –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø–æ—Ç–æ–∫–∏ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–∞–±–æ—Ç–µ –ø–æ—à–∞–≥–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞.
```

---



---

–Ø –∑–∞–≤–µ—Ä—à–∏–ª –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –¥–ª—è –≤—Å–µ—Ö —á–µ—Ç—ã—Ä–µ—Ö —Ñ–∞–π–ª–æ–≤: `universal_instructions.md`, `van_core_workflow.md`, `van_instructions.md`, –∏ `step_by_step_instructions.md`.

–¢–µ–ø–µ—Ä—å –≤—Å–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ `.md` —Ñ–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `custom_modes/` –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–µ `.pse` —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ª–æ–≥–∏–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

–ú–æ–≥—É –ª–∏ —è –µ—â–µ —á–µ–º-—Ç–æ –ø–æ–º–æ—á—å?

---

