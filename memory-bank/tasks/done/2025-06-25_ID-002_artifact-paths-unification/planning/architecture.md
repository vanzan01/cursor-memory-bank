# –ê–†–•–ò–¢–ï–ö–¢–£–†–ê: –£–ù–ò–§–ò–ö–ê–¶–ò–Ø –ü–£–¢–ï–ô –ê–†–¢–ï–§–ê–ö–¢–û–í

**–ó–∞–¥–∞—á–∞:** 2025-06-25_ID-002_artifact-paths-unification
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-06-25
**–†–µ–∂–∏–º:** PLAN
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** Level 3

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ô –û–ë–ó–û–†

### –¢–ï–ö–£–©–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê (–ü–†–û–ë–õ–ï–ú–ù–ê–Ø):
```
memory-bank/
‚îú‚îÄ‚îÄ creative/           ‚ùå –†–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
‚îú‚îÄ‚îÄ planning/          ‚ùå –†–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
‚îú‚îÄ‚îÄ implementation/    ‚ùå –†–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
‚îú‚îÄ‚îÄ qa/               ‚ùå –†–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
‚îú‚îÄ‚îÄ archive/          ‚ùå –†–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
‚îú‚îÄ‚îÄ universal/        ‚ùå –†–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
‚îî‚îÄ‚îÄ system/           ‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
```

### –¶–ï–õ–ï–í–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê (Memory Bank 2.0.0):
```
memory-bank/
‚îú‚îÄ‚îÄ tasks/
‚îÇ   ‚îú‚îÄ‚îÄ todo/
‚îÇ   ‚îú‚îÄ‚îÄ in_progress/
‚îÇ   ‚îî‚îÄ‚îÄ done/
‚îÇ       ‚îî‚îÄ‚îÄ [task-directory]/     ‚úÖ –í—Å–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –∑–∞–¥–∞—á–∏ –∑–¥–µ—Å—å
‚îÇ           ‚îú‚îÄ‚îÄ _task.md
‚îÇ           ‚îú‚îÄ‚îÄ _context.md
‚îÇ           ‚îú‚îÄ‚îÄ planning/         ‚úÖ PLAN –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
‚îÇ           ‚îú‚îÄ‚îÄ creative/         ‚úÖ CREATIVE –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
‚îÇ           ‚îú‚îÄ‚îÄ implementation/   ‚úÖ IMPLEMENT –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
‚îÇ           ‚îú‚îÄ‚îÄ qa/              ‚úÖ QA –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
‚îÇ           ‚îú‚îÄ‚îÄ reflection/      ‚úÖ REFLECT –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
‚îÇ           ‚îî‚îÄ‚îÄ release/         ‚úÖ ARCHIVE –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
‚îî‚îÄ‚îÄ system/                      ‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
    ‚îú‚îÄ‚îÄ current-context.md
    ‚îú‚îÄ‚îÄ workflow-state.txt
    ‚îú‚îÄ‚îÄ current-task.txt
    ‚îî‚îÄ‚îÄ universal/               ‚úÖ Universal –ª–æ–≥–∏
```

## üîß –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´

### 1. ACTIVE TASK PATH RESOLVER
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—É—Ç–∏ –∞–∫—Ç–∏–≤–Ω–æ–π –∑–∞–¥–∞—á–∏
**–§—É–Ω–∫—Ü–∏—è:** `get_active_task_path()`
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç (–≤ Core/active-task-manager.mdc)

```bash
# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
active_task_path=$(get_active_task_path)
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: memory-bank/tasks/[status]/[task-directory]
```

### 2. ARTIFACT PATH BUILDER
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—É—Ç–µ–π –¥–ª—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∑–∞–¥–∞—á–∏
**–ü–∞—Ç—Ç–µ—Ä–Ω:** `$active_task_path/[subfolder]/[artifact-name]`

```bash
# –ü—Ä–∏–º–µ—Ä—ã –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ø—É—Ç–µ–π:
planning_requirements="$active_task_path/planning/requirements.md"
creative_component="$active_task_path/creative/component-name.md"
qa_report="$active_task_path/qa/qa-report.md"
```

### 3. FALLBACK MECHANISM
**–û–ø–∏—Å–∞–Ω–∏–µ:** –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –∞–∫—Ç–∏–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞
**–õ–æ–≥–∏–∫–∞:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `get_active_task_path()`
2. –ï—Å–ª–∏ –ø—É—Å—Ç ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å legacy `tasks.md`
3. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ ‚Üí —Å–æ–æ–±—â–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

### 4. MODE INSTRUCTION UPDATER
**–û–ø–∏—Å–∞–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π —Ä–µ–∂–∏–º–æ–≤ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –ø—É—Ç–µ–π
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- Path replacement logic
- Variable substitution
- Validation checks

## üìã –î–ï–¢–ê–õ–¨–ù–´–ô –ü–õ–ê–ù –ó–ê–ú–ï–ù

### MAPPING –°–¢–ê–†–´–• –ü–£–¢–ï–ô –ù–ê –ù–û–í–´–ï:

#### CREATIVE MODE:
```bash
# –°–¢–ê–†–´–ï –ü–£–¢–ò:
memory-bank/creative/[project-specific-files]
memory-bank/creative/[component-name].md
memory-bank/style-guide.md

# –ù–û–í–´–ï –ü–£–¢–ò:
$active_task_path/creative/[component-name].md
$active_task_path/creative/style-guide.md
```

#### PLAN MODE:
```bash
# –°–¢–ê–†–´–ï –ü–£–¢–ò:
memory-bank/planning/[task-name]-requirements.md
memory-bank/planning/[task-name]-architecture.md

# –ù–û–í–´–ï –ü–£–¢–ò:
$active_task_path/planning/requirements.md
$active_task_path/planning/architecture.md
$active_task_path/planning/implementation-plan.md
```

#### IMPLEMENT MODE:
```bash
# –°–¢–ê–†–´–ï –ü–£–¢–ò:
memory-bank/implementation/[task-name]-build-log.md
memory-bank/implementation/[task-name]-test-results.md

# –ù–û–í–´–ï –ü–£–¢–ò:
$active_task_path/implementation/build-log.md
$active_task_path/implementation/test-results.md
```

#### QA MODE:
```bash
# –°–¢–ê–†–´–ï –ü–£–¢–ò:
memory-bank/qa/[task-name]-qa-report.md
memory-bank/qa/[task-name]-test-log.md
memory-bank/qa/[task-name]-issues.md

# –ù–û–í–´–ï –ü–£–¢–ò:
$active_task_path/qa/qa-report.md
$active_task_path/qa/test-log.md
$active_task_path/qa/issues.md
```

#### REFLECT & ARCHIVE MODE:
```bash
# –°–¢–ê–†–´–ï –ü–£–¢–ò:
memory-bank/archive/[task-name]/

# –ù–û–í–´–ï –ü–£–¢–ò:
$active_task_path/reflection/reflection.md
$active_task_path/release/commit-message.txt
$active_task_path/release/release-notes.md
$active_task_path/release/changelog.md
```

#### UNIVERSAL MODE:
```bash
# –°–¢–ê–†–´–ï –ü–£–¢–ò:
memory-bank/universal/[date]-request-log.md

# –ù–û–í–´–ï –ü–£–¢–ò:
memory-bank/system/universal/[date]-request-log.md
```

## üîÑ –ê–õ–ì–û–†–ò–¢–ú –û–ë–ù–û–í–õ–ï–ù–ò–Ø

### Phase 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
1. **Backup —Ç–µ–∫—É—â–∏—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π**
2. **–ê–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö –ø—É—Ç–µ–π** (—É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
3. **–°–æ–∑–¥–∞–Ω–∏–µ mapping —Ç–∞–±–ª–∏—Ü—ã** (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ –≤—ã—à–µ)

### Phase 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
```bash
# –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞:
for mode in creative plan implement qa reflect_archive universal; do
    echo "Updating ${mode}_instructions.md..."

    # 1. –ó–∞–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –ø—É—Ç–∏ –Ω–∞ –Ω–æ–≤—ã–µ
    # 2. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∞–∫—Ç–∏–≤–Ω–æ–π –∑–∞–¥–∞—á–∏
    # 3. –î–æ–±–∞–≤–∏—Ç—å fallback –ª–æ–≥–∏–∫—É
    # 4. –û–±–Ω–æ–≤–∏—Ç—å mandatory artifacts
done
```

### Phase 3: –í–∞–ª–∏–¥–∞—Ü–∏—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∑–∞–º–µ–Ω—ã:
grep -r "memory-bank/creative/" custom_modes/     # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
grep -r "memory-bank/planning/" custom_modes/    # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
grep -r "memory-bank/implementation/" custom_modes/ # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
grep -r "memory-bank/qa/" custom_modes/          # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
grep -r "memory-bank/archive/" custom_modes/     # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:
grep -r "\$active_task_path" custom_modes/       # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```

## üõ†Ô∏è –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### TEMPLATE –î–õ–Ø –û–ë–ù–û–í–õ–ï–ù–ò–Ø –†–ï–ñ–ò–ú–û–í:

```bash
# –í –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞ –¥–æ–±–∞–≤–∏—Ç—å:
echo "=== –ü–û–õ–£–ß–ï–ù–ò–ï –ê–ö–¢–ò–í–ù–û–ô –ó–ê–î–ê–ß–ò ==="
active_task_path=$(get_active_task_path)

if [ -z "$active_task_path" ]; then
    echo "‚ö†Ô∏è  No active task selected. Using legacy mode."
    echo "Please set active task with: set_active_task(path)"
    # Fallback logic here
    exit 1
fi

echo "‚úÖ Active task: $active_task_path"

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–æ–∫:
mkdir -p "$active_task_path/[mode-folder]"

# –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤:
artifact_path="$active_task_path/[mode-folder]/[artifact-name]"
```

### VALIDATION CHECKS:
```bash
# –í –∫–∞–∂–¥–æ–º —Ä–µ–∂–∏–º–µ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏:
validate_active_task() {
    if [ ! -d "$active_task_path" ]; then
        echo "‚ùå Active task directory not found: $active_task_path"
        return 1
    fi

    if [ ! -f "$active_task_path/_task.md" ]; then
        echo "‚ùå Task file not found: $active_task_path/_task.md"
        return 1
    fi

    echo "‚úÖ Active task validated: $active_task_path"
    return 0
}
```

## üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –ò –ù–ê–î–ï–ñ–ù–û–°–¢–¨

### ERROR HANDLING:
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–π –∑–∞–¥–∞—á–∏**
2. **Graceful fallback –Ω–∞ legacy —Ä–µ–∂–∏–º**
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Ç–µ–π –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ñ–∞–π–ª–æ–≤**
4. **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö**

### BACKWARD COMPATIBILITY:
1. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ legacy `tasks.md`**
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã**
3. **Migration –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**

### TESTING STRATEGY:
1. **Unit tests –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞**
2. **Integration tests –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ workflow**
3. **Edge case testing (–Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –∑–∞–¥–∞—á–∏)**
4. **Performance regression testing**

## üìä –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê

### –ö–û–õ–ò–ß–ï–°–¢–í–ï–ù–ù–´–ï –ú–ï–¢–†–ò–ö–ò:
- [ ] **0** —Å—Ç–∞—Ä—ã—Ö –ø—É—Ç–µ–π –≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è—Ö —Ä–µ–∂–∏–º–æ–≤
- [ ] **6** –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤
- [ ] **100%** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `$active_task_path`
- [ ] **0** –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

### –ö–ê–ß–ï–°–¢–í–ï–ù–ù–´–ï –ú–ï–¢–†–ò–ö–ò:
- [ ] –í—Å–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
- [ ] –°–∏—Å—Ç–µ–º–∞ gracefully –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∑–∞–¥–∞—á–∏
- [ ] –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –∏ –ø–æ–Ω—è—Ç–Ω–∞

## üöÄ –ü–õ–ê–ù –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Ø

### –ü–û–†–Ø–î–û–ö –û–ë–ù–û–í–õ–ï–ù–ò–Ø:
1. **UNIVERSAL** - —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π (—Ç–æ–ª—å–∫–æ –ª–æ–≥–∏)
2. **PLAN** - —Å—Ä–µ–¥–Ω–∏–π (requirements + architecture)
3. **CREATIVE** - —Å—Ä–µ–¥–Ω–∏–π (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã + —Å—Ç–∏–ª–∏)
4. **IMPLEMENT** - —Å—Ä–µ–¥–Ω–∏–π (–ª–æ–≥–∏ + —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
5. **QA** - —Å–ª–æ–∂–Ω—ã–π (–æ—Ç—á–µ—Ç—ã + –ª–æ–≥–∏ + –ø—Ä–æ–±–ª–µ–º—ã)
6. **REFLECT & ARCHIVE** - —Å–ª–æ–∂–Ω—ã–π (—Ä–µ—Ñ–ª–µ–∫—Å–∏—è + —Ä–µ–ª–∏–∑)

### ROLLBACK PLAN:
1. Backup –≤—Å–µ—Ö –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
2. Git commit –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞
3. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞ –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é
4. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ backup –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö

---

**–°–æ–∑–¥–∞–Ω–æ:** 2025-06-25 –≤ PLAN —Ä–µ–∂–∏–º–µ
**–°—Ç–∞—Ç—É—Å:** ARCHITECTURE COMPLETE ‚Üí READY FOR IMPLEMENTATION PLAN